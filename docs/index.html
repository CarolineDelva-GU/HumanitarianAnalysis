<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.54">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Edward Tufte">
<meta name="description" content="Analyzing violence against aid workers">

<title>The Visual Display of Quantitative Information – Humanitarians</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script src="site_libs/quarto-contrib/intersection-observer-polyfill-1.0.0/intersection-observer.js"></script>
<script src="site_libs/quarto-contrib/scrollama-3.2.0/scrollama.min.js"></script>
<script src="site_libs/quarto-contrib/closeread-0.1.0/closeread.js"></script>
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script type="module" src="site_libs/quarto-ojs/quarto-ojs-runtime.js"></script>
<link href="site_libs/quarto-ojs/quarto-ojs.css" rel="stylesheet">
<script src="https://cdn.plot.ly/plotly-2.27.0.min.js"></script>
<meta cr-debug-mode="false">
<meta cr-remove-header-space="true">


<link rel="stylesheet" href="site_libs/quarto-contrib/quarto-project/qmd-lab/closeread/closeread.css">
<link rel="stylesheet" href="cr-tufte.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Humanitarians</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="./index.html" aria-current="page"> 
<span class="menu-text">Home</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-full page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content column-page" id="quarto-document-content">
      <!-- user-provided yaml closeread style options -->
      <style>
        :root {
          --cr-narrative-background-color-sidebar: transparent;
--cr-section-background-color: transparent;
--cr-narrative-font-family: et-book, Palatino, “Palatino Linotype”, “Palatino LT STD”, “Book Antiqua”, Georgia, serif;
--cr-narrative-background-color-overlay: transparent;
--cr-narrative-text-color-overlay: black;
        }
      </style>
    

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<div class="quarto-title-block"><div><h1 class="title">The Visual Display of Quantitative Information</h1><button type="button" class="btn code-tools-button" id="quarto-code-tools-source"><i class="bi"></i> Code</button></div></div>
</div>

<div>
  <div class="description">
    Analyzing violence against aid workers
  </div>
</div>


<div class="quarto-title-meta column-page">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Edward Tufte </p>
          </div>
  </div>
    
  
    
  </div>
  


</header>


<section id="risky-bravery-the-human-cost-of-humanitarian-work" class="level2">
<h2 class="anchored" data-anchor-id="risky-bravery-the-human-cost-of-humanitarian-work">Risky Bravery: <br> The Human Cost of Humanitarian Work</h2>
<p>The act of giving back to at-risk communities has always been a considerable act of selflessness and recognition. As various countries around the world are often met with troubling disasters, humanitarian workers often rush to the aid to those in need. However, such acts of bravery and volunteerism come with a risk to their personal lives, as thousands of humanitarians can be harmed themselves as hey deliver food, administer vaccines, rebuild communities, and offer hope to ravaged communities. But behind the logistics and headlines lies a harder truth: their work is dangerous, and the risks they face are growing.</p>
<p>As violence against aid workers becomes more common, understanding its pattern can provide insights to those who wish to help others in times of need. By exploring the patterns of targeted attacks, kidnappings, and killings, humanitarian organizations can provide their volunteers with the proper means and information to protect themselves while coming to the aid of those facing difficult situations. Analyzing the pattern of violence against humanitarians is important because when an aid worker is harmed, food does not reach the hungry, medical care is delayed for the wounded, and recovery efforts stall overall.</p>
<p>Thankfully, the Aid Worker Security Database (AWSD) has provided the public with the opportunity to understand this crisis more clearly. Maintained by Humanitarian Outcomes, the AWSD systematically tracks major incidents of violence against aid workers—including killings, kidnappings, and serious injuries—dating back to 1997 all the way to 2025. It collects and verifies data from news sources, aid agencies, and official reports to build a comprehensive picture of where, how, and why these attacks happen <span class="citation" data-cites="awsd">(<a href="#ref-awsd" role="doc-biblioref">Humanitarian Outcomes 2024</a>)</span>.</p>
<p>With such a valuable database as a main source, this interactive dashboard aims to take a closer look at the risks that humanitarians face during their missions. This analysis will explore how violence against humanitarians has evolved over time, the demographics of those who face the greatest risk, the top means of attacks throughout the years, the countries that present the most risk, and the top motives behind the attacks on humanitarians.</p>
<p>The goal is not only data exploration, but strategic insight for humanitarian missions. It’s about bearing witness. Understanding these patterns is the first step toward accountability, protection, and change. As aid workers make the selfless sacrifice to come to the aid of those in need, it is our duty to ensure their safety so they can not only help victims but also return home to their families</p>
<div class="cr-section cr-column-screen sidebar-left">
<div class="narrative-col">
<div class="trigger">
<div class="narrative">
<div class="cr-spacer" style="padding-block: 5.0svh;">

</div>
</div>
</div>
<div class="trigger new-trigger" data-focus-on="cr-map">
<div class="narrative">

</div>
</div>
<section id="serving-through-crisis-the-rising-toll-on-humanitarians" class="level2 narrative trigger">
<h2 class="narrative anchored" data-anchor-id="serving-through-crisis-the-rising-toll-on-humanitarians">Serving Through Crisis: <br>The Rising Toll on Humanitarians</h2>
</section>
<div class="trigger new-trigger" data-focus-on="cr-map">
<div class="narrative">
<p>As previously mentioned,there has been a consistent upward trend in violence against aid workers from 1997 to the present day. This line chart further illustrates that while the overall trajectory is rising, the number of incidents has fluctuated significantly over the years.</p>
</div>
</div>
<div class="trigger new-trigger" data-pan-to="65%,-5%" data-scale-by="3.5" data-focus-on="cr-map">
<div class="narrative">
<p>As highlighted in this graph, a significant spike in violence against humanitarians occurs in 2003,during the early stages of the <strong>Iraq invasion</strong>. The U.S.-led invasion of Iraq in 2003 may have contributed to significant instability in the region, which would be the likely cause of the heightened risks for humanitarian workers<span class="citation" data-cites="hansen2007securing">(<a href="#ref-hansen2007securing" role="doc-biblioref">Hansen 2007</a>)</span>. The resulting conflict may have made aid operations more vulnerable to attacks, as the conflict continued between the two nations.</p>
</div>
</div>
<div class="trigger new-trigger" data-pan-to="45%,-5%" data-scale-by="4.0" data-focus-on="cr-map">
<div class="narrative">
<p>Another visible peak between 2008 and 2010, as demonstrated by the shows a notable drop in violence against aid workers in 2010, which corresponds to the <strong>2010 Earthquake in Haiti</strong> <span class="citation" data-cites="aidworkersecurity2011">(<a href="#ref-aidworkersecurity2011" role="doc-biblioref">Humanitarian Outcomes 2011</a>)</span>. However, the aftermath of this event reveals a subsequent rise in violence against aid workers, highlighting the evolving security challenges that humanitarians face. The decline in incidents immediately following the earthquake might reflect temporary changes in access or operational shifts, but the eventual rise underscores the ongoing threats faced by aid workers in high-risk environments.</p>
</div>
</div>
<div class="trigger new-trigger" data-pan-to="10%,-10%" data-scale-by="4.0" data-focus-on="cr-map">
<div class="narrative">
<p>One of the most striking peaks occurred in <strong>2013</strong>,when reported incidents surged dramatically to over 260. This coincided with major humanitarian crises and protracted conflicts in countries like Syria, South Sudan, and the Central African Republic<span class="citation" data-cites="aidworkersecurity2014">(<a href="#ref-aidworkersecurity2014" role="doc-biblioref">Humanitarian Outcomes 2014</a>)</span>. As we can see, major events may lead to a higher count of violence against aid workers.</p>
</div>
</div>
<div class="trigger new-trigger" data-pan-to="-100%,-10%" data-scale-by="2.4" data-focus-on="cr-map">
<div class="narrative">
<p>Another sharp spike appears in <strong>2020</strong>,reaching the highest recorded number of incidents—over 250. 2020 is marked by the <strong>COVID-19 epidemic</strong> and underscores the growing intensity of threats in conflict zones, particularly as aid operations intersect with increasingly volatile political and security environments.</p>
</div>
</div>
<div class="trigger new-trigger" data-pan-to="-100%,-10%" data-scale-by="2.4" data-focus-on="cr-map">
<div class="narrative">
<p>A sharp peak between 2023 and 2025shows the number of incidents against aid workers skyrocketed. This sudden increase highlights the continued high risk that aid workers face as they come to the aid of those in need.</p>
</div>
</div>
<div class="trigger new-trigger" data-focus-on="cr-map">
<div class="narrative">
<p>Overall, the persistent rise and fluctuations in violence against aid workers over the years underscore the complex and ever-evolving nature of humanitarian risk. Each peak and dip on the chart reflects more than just data as they represent the safety, accessibility, and effectiveness of critical life-saving efforts across the globe.</p>
</div>
</div>
<section id="unequal-risk-national-aid-workers-shoulder-the-heaviest-burden" class="level2 narrative trigger">
<h2 class="narrative anchored" data-anchor-id="unequal-risk-national-aid-workers-shoulder-the-heaviest-burden">Unequal Risk: <br> National Aid Workers Shoulder the Heaviest Burden</h2>
</section>
<div class="trigger new-trigger" data-focus-on="cr-mapped">
<div class="narrative">
<p>The next step in understanding violence against aid workers is identifying who bears the brunt of it. This is crucial, as it enables humanitarian organizations to better strategize how they protect their personnel. As demonstrated by this line chart, not all aid workers face the same level of risk, and recognizing these disparities is the first step toward ensuring that those most vulnerable who are often overlooked—receive the support, protection, and resources they need.</p>
</div>
</div>
<div class="trigger new-trigger" data-focus-on="cr-mapped">
<div class="narrative">
<p>This graph starklyillustrates the disproportionate impact of violence on national aid workers compared to their international counterparts. Over the past two decades, incidents involving national staff have risen dramatically, while violence against international workers has remained consistently low. This widening gap underscores the urgent need for humanitarian organizations to increase support for national aid workers, who often face greater risks with fewer protections.</p>
</div>
</div>
<div class="trigger new-trigger" data-pan-to="40%,-10%" data-scale-by="3.1" data-focus-on="cr-mapped">
<div class="narrative">
<p>Distinct peaks in the data reveal how risk has shifted over time. For national aid workers, a sharp surge in incidents occurred in <strong>2013</strong>, reaching nearly <strong>400 cases</strong>,likely reflecting increased exposure amid regional conflicts and crises <span class="citation" data-cites="aidworkersecurity2014">(<a href="#ref-aidworkersecurity2014" role="doc-biblioref">Humanitarian Outcomes 2014</a>)</span>. This spike underscores how national staff are often on the frontlines during periods of heightened instability. In contrast, international staff experienced their highest peak in 2009, with fewer than <strong>10 incidents</strong> This stark disparity in the number of incidents between national and international aid workers further emphasizes the urgent need for increased protection and support for national humanitarians, who shoulder the greatest risk.</p>
</div>
</div>
<div class="trigger new-trigger" data-pan-to="-100%,-10%" data-scale-by="2.4" data-focus-on="cr-mapped">
<div class="narrative">
<p>The highest peak of violence against aid workersoccurred in 2024, overwhelmingly impacting national staff<span class="citation" data-cites="aidworkersecurity2024">(<a href="#ref-aidworkersecurity2024" role="doc-biblioref"><strong>aidworkersecurity2024?</strong></a>)</span>. Unlike their international counterparts, national workers often may remain in volatile areas long after evacuations as they operate with fewer security resources and facing greater day-to-day risks. They also may also receive less institutional protection and long-term support. This imbalance reveals a critical gap in humanitarian response so underscoring the urgent need to prioritize the safety, insurance, and sustained well-being of national staff, who are the backbone of global aid delivery.</p>
</div>
</div>
<div class="trigger new-trigger" data-focus-on="cr-mapped">
<div class="narrative">
<p>Overall, this illustration highlights the stark disparity in the risks faced by national as compared to international aid workers. While international staff tend to face lower and less frequent exposure to violence, national staff bear the brunt of this danger, as they often operate in more volatile environments with fewer resources and protections. Addressing this imbalance is crucial for the future of humanitarian work. To ensure the safety and sustainability of aid efforts, humanitarian organizations must invest more significantly in the safety, support, and protection of national staff as they are often the first responders and the backbone of global relief operations.</p>
</div>
</div>
<section id="shifting-tactics-how-aid-workers-are-attacked-has-evolved" class="level2 narrative trigger">
<h2 class="narrative anchored" data-anchor-id="shifting-tactics-how-aid-workers-are-attacked-has-evolved">Shifting Tactics: How Aid Workers Are Attacked Has Evolved</h2>
</section>
<div class="trigger new-trigger" data-focus-on="cr-map2">
<div class="narrative">
<p>To effectively address and mitigate the risks faced by aid workers, understanding the means by which they are targeted is crucial. Identifying the most common methods of violence enables humanitarian organizations to better tailor security measures, allocate resources, and develop strategies to protect workers in high-risk areas. Over time, the methods used to attack aid workers have evolved, and understanding these shifts is vital for adapting security protocols to the changing nature of these threats.</p>
</div>
</div>
<div class="trigger">
<div class="narrative">
<p>This bar chart demonstrates fluctuations in the top five methods of violence between 1997 and 2025. <strong>Shootings</strong> have consistently been the most prevalent form of attack, with a significant peak in 2023. <strong>Bodily assaults</strong>, which include beatings and physical abuse, saw a sharp rise between 2015 and 2020, even surpassing shootings at one point, showing that physical violence is a leading threat to aid workers. <strong>Kidnapping</strong>, a long-standing concern, ranks as the third most common method of attack. <strong>Aerial bombardment</strong>, while less frequent overall, has steadily increased from 2018 onward, indicating the growing collateral damage from indiscriminate or high-tech warfare. This highlights the evolving nature of threats in modern conflict zones. The <strong>Unknown</strong> category remains variable, pointing to gaps in data collection and classification that complicate efforts to fully assess the scale of violence.</p>
</div>
</div>
<div class="trigger">
<div class="narrative">
<p>These shifting patterns in violence underscore the growing complexity of threats faced by aid workers. The emergence of new attack methods, alongside traditional forms of violence, highlights the need for humanitarian organizations to continuously adapt their security strategies. Enhanced data collection and reporting are essential to accurately assess these threats and improve protective measures for aid workers in conflict zones.</p>
</div>
</div>
<section id="deadliest-cities-for-aid-workers" class="level2 narrative trigger">
<h2 class="narrative anchored" data-anchor-id="deadliest-cities-for-aid-workers">Deadliest Cities for Aid Workers</h2>
</section>
<div class="trigger new-trigger" data-focus-on="cr-map3">
<div class="narrative">
<p>Some cities have emerged as persistent danger zones for aid workers, where ongoing conflict, instability, and targeted attacks have led to a high concentration of violent incidents. This map highlights the Top 5 Deadliest Cities for aid workers, with the following narrative providing context for each hotspot.</p>
</div>
</div>
<div class="trigger new-trigger" data-pan-to="48%,-5%" data-scale-by="2.5" data-focus-on="cr-map3">
<div class="narrative">
<p>Haiti, has recorded 32 violent incidents. Entrenched gang activity, political instability, and weak governance have created severe risks for aid delivery, making humanitarian access both critical and perilous.</p>
</div>
</div>
<div class="trigger new-trigger" data-pan-to="-50%,10%" data-scale-by="2.5" data-focus-on="cr-map3">
<div class="narrative">
<p>Afghanistan, with 31 incidents, has long been a high-risk environment for aid workers. Despite changes in government and international presence, the threat of targeted attacks and bombings remains high.</p>
</div>
</div>
<div class="trigger">
<div class="narrative">
<p>Mogadishu, Somalia, is one of the most dangerous cities for aid workers, with 65 incidents reported. Armed groups frequently target humanitarian staff, especially locals, who face extreme risk in their daily operations.</p>
</div>
</div>
<div class="trigger">
<div class="narrative">
<p>In Juba, South Sudan, 49 incidents highlight the hazards of operating amid fragile peace agreements and sporadic outbreaks of violence. Local aid workers are particularly vulnerable to attacks and harassment.</p>
</div>
</div>
<div class="trigger">
<div class="narrative">
<p>Lastly, the large red cluster representing 988 incidents reflects the broader concentration of violence affecting multiple cities and rural areas across the region. This underscores how aid workers face systemic threats beyond the spotlight of any single city.</p>
</div>
</div>
<div class="trigger new-trigger" data-focus-on="cr-map3">
<div class="narrative">
<p>By identifying these deadliest cities for aid workers, we gain a clearer understanding of where the most significant risks lie. This knowledge enables humanitarian organizations to better allocate resources, enhance security protocols, and prioritize support for aid workers in these high-risk areas. With a more focused approach, we can ensure that those who risk their lives in the service of others are provided with the protections, training, and assistance they need to carry out their vital work more safely and effectively.</p>
</div>
</div>
</div>
<div class="sticky-col">
<div class="sticky-col-stack">
<div id="cr-map" class="sticky">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb1" data-startfrom="73" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 72;"><span id="cb1-73"><a href="#cb1-73" aria-hidden="true" tabindex="-1"></a>incidents <span class="op">=</span>d3<span class="op">.</span><span class="fu">csv</span>(<span class="st">"security_incidents.csv"</span><span class="op">,</span> d <span class="kw">=&gt;</span> ({</span>
<span id="cb1-74"><a href="#cb1-74" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Year</span><span class="op">:</span> <span class="op">+</span>d[<span class="st">"Year"</span>] }))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-1" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb2" data-startfrom="80" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 79;"><span id="cb2-80"><a href="#cb2-80" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb2-81"><a href="#cb2-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-82"><a href="#cb2-82" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> yearCounts <span class="op">=</span> incidents<span class="op">.</span><span class="fu">reduce</span>((acc<span class="op">,</span> row) <span class="kw">=&gt;</span> {</span>
<span id="cb2-83"><a href="#cb2-83" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="op">!</span><span class="pp">isNaN</span>(row<span class="op">.</span><span class="at">Year</span>)) {</span>
<span id="cb2-84"><a href="#cb2-84" aria-hidden="true" tabindex="-1"></a>      acc[row<span class="op">.</span><span class="at">Year</span>] <span class="op">=</span> (acc[row<span class="op">.</span><span class="at">Year</span>] <span class="op">||</span> <span class="dv">0</span>) <span class="op">+</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb2-85"><a href="#cb2-85" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb2-86"><a href="#cb2-86" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> acc<span class="op">;</span></span>
<span id="cb2-87"><a href="#cb2-87" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span> {})<span class="op">;</span></span>
<span id="cb2-88"><a href="#cb2-88" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-89"><a href="#cb2-89" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> sortedYears <span class="op">=</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">keys</span>(yearCounts)<span class="op">.</span><span class="fu">map</span>(<span class="bu">Number</span>)<span class="op">.</span><span class="fu">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> a <span class="op">-</span> b)<span class="op">;</span></span>
<span id="cb2-90"><a href="#cb2-90" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> counts <span class="op">=</span> sortedYears<span class="op">.</span><span class="fu">map</span>(year <span class="kw">=&gt;</span> yearCounts[year])<span class="op">;</span></span>
<span id="cb2-91"><a href="#cb2-91" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-92"><a href="#cb2-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-93"><a href="#cb2-93" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> deltas <span class="op">=</span> counts<span class="op">.</span><span class="fu">map</span>((c<span class="op">,</span> i) <span class="kw">=&gt;</span> c <span class="op">-</span> (counts[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">||</span> <span class="dv">0</span>))<span class="op">;</span></span>
<span id="cb2-94"><a href="#cb2-94" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> markerColors <span class="op">=</span> deltas<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d <span class="op">&gt;=</span> <span class="dv">0</span> <span class="op">?</span> <span class="st">"#3b82f6"</span> <span class="op">:</span> <span class="st">"#f87171"</span>)<span class="op">;</span></span>
<span id="cb2-95"><a href="#cb2-95" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> markerSymbols <span class="op">=</span> deltas<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d <span class="op">&gt;=</span> <span class="dv">100</span> <span class="op">?</span> <span class="st">"star"</span> <span class="op">:</span> <span class="st">"circle"</span>)<span class="op">;</span></span>
<span id="cb2-96"><a href="#cb2-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-97"><a href="#cb2-97" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-98"><a href="#cb2-98" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> trace <span class="op">=</span> {</span>
<span id="cb2-99"><a href="#cb2-99" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> sortedYears<span class="op">,</span></span>
<span id="cb2-100"><a href="#cb2-100" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> counts<span class="op">,</span></span>
<span id="cb2-101"><a href="#cb2-101" aria-hidden="true" tabindex="-1"></a>    <span class="dt">type</span><span class="op">:</span> <span class="st">"scatter"</span><span class="op">,</span></span>
<span id="cb2-102"><a href="#cb2-102" aria-hidden="true" tabindex="-1"></a>    <span class="dt">mode</span><span class="op">:</span> <span class="st">"lines+markers"</span><span class="op">,</span></span>
<span id="cb2-103"><a href="#cb2-103" aria-hidden="true" tabindex="-1"></a>    <span class="dt">name</span><span class="op">:</span> <span class="st">"Incidents"</span><span class="op">,</span></span>
<span id="cb2-104"><a href="#cb2-104" aria-hidden="true" tabindex="-1"></a>    <span class="dt">line</span><span class="op">:</span> {</span>
<span id="cb2-105"><a href="#cb2-105" aria-hidden="true" tabindex="-1"></a>      <span class="dt">color</span><span class="op">:</span> <span class="st">"#3b82f6"</span><span class="op">,</span></span>
<span id="cb2-106"><a href="#cb2-106" aria-hidden="true" tabindex="-1"></a>      <span class="dt">width</span><span class="op">:</span> <span class="dv">3</span></span>
<span id="cb2-107"><a href="#cb2-107" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb2-108"><a href="#cb2-108" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marker</span><span class="op">:</span> {</span>
<span id="cb2-109"><a href="#cb2-109" aria-hidden="true" tabindex="-1"></a>      <span class="dt">size</span><span class="op">:</span> <span class="dv">8</span><span class="op">,</span></span>
<span id="cb2-110"><a href="#cb2-110" aria-hidden="true" tabindex="-1"></a>      <span class="dt">color</span><span class="op">:</span> markerColors<span class="op">,</span></span>
<span id="cb2-111"><a href="#cb2-111" aria-hidden="true" tabindex="-1"></a>      <span class="dt">symbol</span><span class="op">:</span> markerSymbols<span class="op">,</span></span>
<span id="cb2-112"><a href="#cb2-112" aria-hidden="true" tabindex="-1"></a>      <span class="dt">line</span><span class="op">:</span> { <span class="dt">width</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#1e40af"</span> }</span>
<span id="cb2-113"><a href="#cb2-113" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb2-114"><a href="#cb2-114" aria-hidden="true" tabindex="-1"></a>    <span class="dt">hovertemplate</span><span class="op">:</span></span>
<span id="cb2-115"><a href="#cb2-115" aria-hidden="true" tabindex="-1"></a>      <span class="vs">`&lt;b&gt;%{y}&lt;/b&gt; incidents&lt;br&gt;`</span> <span class="op">+</span></span>
<span id="cb2-116"><a href="#cb2-116" aria-hidden="true" tabindex="-1"></a>      <span class="vs">`Year: &lt;b&gt;%{x}&lt;/b&gt;&lt;br&gt;`</span> <span class="op">+</span></span>
<span id="cb2-117"><a href="#cb2-117" aria-hidden="true" tabindex="-1"></a>      <span class="vs">`Δ from prev: %{customdata} &lt;extra&gt;&lt;/extra&gt;`</span><span class="op">,</span></span>
<span id="cb2-118"><a href="#cb2-118" aria-hidden="true" tabindex="-1"></a>    <span class="dt">customdata</span><span class="op">:</span> deltas</span>
<span id="cb2-119"><a href="#cb2-119" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb2-120"><a href="#cb2-120" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-121"><a href="#cb2-121" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> layout <span class="op">=</span> {</span>
<span id="cb2-122"><a href="#cb2-122" aria-hidden="true" tabindex="-1"></a>    <span class="dt">title</span><span class="op">:</span> {</span>
<span id="cb2-123"><a href="#cb2-123" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> <span class="st">"A Rising Threat: Global Patterns of Attacks on Aid Workers (1997–Present)"</span><span class="op">,</span></span>
<span id="cb2-124"><a href="#cb2-124" aria-hidden="true" tabindex="-1"></a>      <span class="dt">font</span><span class="op">:</span> { <span class="dt">size</span><span class="op">:</span> <span class="dv">15</span><span class="op">,</span> <span class="dt">family</span><span class="op">:</span> <span class="st">"Arial, sans-serif"</span> }</span>
<span id="cb2-125"><a href="#cb2-125" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb2-126"><a href="#cb2-126" aria-hidden="true" tabindex="-1"></a>    <span class="dt">paper_bgcolor</span><span class="op">:</span> <span class="st">"#f0faff"</span><span class="op">,</span></span>
<span id="cb2-127"><a href="#cb2-127" aria-hidden="true" tabindex="-1"></a>    <span class="dt">plot_bgcolor</span><span class="op">:</span> <span class="st">"#ffffff"</span><span class="op">,</span></span>
<span id="cb2-128"><a href="#cb2-128" aria-hidden="true" tabindex="-1"></a>    <span class="dt">dragmode</span><span class="op">:</span> <span class="st">"zoom"</span><span class="op">,</span> </span>
<span id="cb2-129"><a href="#cb2-129" aria-hidden="true" tabindex="-1"></a>    <span class="dt">xaxis</span><span class="op">:</span> {</span>
<span id="cb2-130"><a href="#cb2-130" aria-hidden="true" tabindex="-1"></a>      <span class="dt">title</span><span class="op">:</span> <span class="st">"Year"</span><span class="op">,</span></span>
<span id="cb2-131"><a href="#cb2-131" aria-hidden="true" tabindex="-1"></a>      <span class="dt">gridcolor</span><span class="op">:</span> <span class="st">"#dbeafe"</span><span class="op">,</span></span>
<span id="cb2-132"><a href="#cb2-132" aria-hidden="true" tabindex="-1"></a>      <span class="dt">zeroline</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb2-133"><a href="#cb2-133" aria-hidden="true" tabindex="-1"></a>      <span class="dt">rangeslider</span><span class="op">:</span> { <span class="dt">visible</span><span class="op">:</span> <span class="kw">false</span> }<span class="op">,</span> </span>
<span id="cb2-134"><a href="#cb2-134" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb2-135"><a href="#cb2-135" aria-hidden="true" tabindex="-1"></a>    <span class="dt">yaxis</span><span class="op">:</span> {</span>
<span id="cb2-136"><a href="#cb2-136" aria-hidden="true" tabindex="-1"></a>      <span class="dt">title</span><span class="op">:</span> <span class="st">"Number of Incidents"</span><span class="op">,</span></span>
<span id="cb2-137"><a href="#cb2-137" aria-hidden="true" tabindex="-1"></a>      <span class="dt">gridcolor</span><span class="op">:</span> <span class="st">"#dbeafe"</span><span class="op">,</span></span>
<span id="cb2-138"><a href="#cb2-138" aria-hidden="true" tabindex="-1"></a>      <span class="dt">zeroline</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb2-139"><a href="#cb2-139" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb2-140"><a href="#cb2-140" aria-hidden="true" tabindex="-1"></a>    <span class="dt">legend</span><span class="op">:</span> {</span>
<span id="cb2-141"><a href="#cb2-141" aria-hidden="true" tabindex="-1"></a>      <span class="dt">bgcolor</span><span class="op">:</span> <span class="st">"#ffffff"</span><span class="op">,</span></span>
<span id="cb2-142"><a href="#cb2-142" aria-hidden="true" tabindex="-1"></a>      <span class="dt">bordercolor</span><span class="op">:</span> <span class="st">"#ccc"</span><span class="op">,</span></span>
<span id="cb2-143"><a href="#cb2-143" aria-hidden="true" tabindex="-1"></a>      <span class="dt">borderwidth</span><span class="op">:</span> <span class="dv">1</span></span>
<span id="cb2-144"><a href="#cb2-144" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb2-145"><a href="#cb2-145" aria-hidden="true" tabindex="-1"></a>    <span class="dt">hovermode</span><span class="op">:</span> <span class="st">"x unified"</span><span class="op">,</span></span>
<span id="cb2-146"><a href="#cb2-146" aria-hidden="true" tabindex="-1"></a>    <span class="dt">margin</span><span class="op">:</span> { <span class="dt">t</span><span class="op">:</span> <span class="dv">60</span><span class="op">,</span> <span class="dt">l</span><span class="op">:</span> <span class="dv">60</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span> <span class="dt">b</span><span class="op">:</span> <span class="dv">60</span> }<span class="op">,</span></span>
<span id="cb2-147"><a href="#cb2-147" aria-hidden="true" tabindex="-1"></a>    <span class="dt">annotations</span><span class="op">:</span> [</span>
<span id="cb2-148"><a href="#cb2-148" aria-hidden="true" tabindex="-1"></a>      {</span>
<span id="cb2-149"><a href="#cb2-149" aria-hidden="true" tabindex="-1"></a>        <span class="dt">x</span><span class="op">:</span> <span class="dv">2003</span><span class="op">,</span></span>
<span id="cb2-150"><a href="#cb2-150" aria-hidden="true" tabindex="-1"></a>        <span class="dt">y</span><span class="op">:</span> yearCounts[<span class="dv">2003</span>]<span class="op">,</span></span>
<span id="cb2-151"><a href="#cb2-151" aria-hidden="true" tabindex="-1"></a>        <span class="dt">text</span><span class="op">:</span> <span class="st">"Iraq Invasion"</span><span class="op">,</span></span>
<span id="cb2-152"><a href="#cb2-152" aria-hidden="true" tabindex="-1"></a>        <span class="dt">showarrow</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb2-153"><a href="#cb2-153" aria-hidden="true" tabindex="-1"></a>        <span class="dt">arrowhead</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span></span>
<span id="cb2-154"><a href="#cb2-154" aria-hidden="true" tabindex="-1"></a>        <span class="dt">ax</span><span class="op">:</span> <span class="op">-</span><span class="dv">40</span><span class="op">,</span></span>
<span id="cb2-155"><a href="#cb2-155" aria-hidden="true" tabindex="-1"></a>        <span class="dt">ay</span><span class="op">:</span> <span class="op">-</span><span class="dv">40</span><span class="op">,</span></span>
<span id="cb2-156"><a href="#cb2-156" aria-hidden="true" tabindex="-1"></a>        <span class="dt">bgcolor</span><span class="op">:</span> <span class="st">"rgba(255,255,255,0.9)"</span><span class="op">,</span></span>
<span id="cb2-157"><a href="#cb2-157" aria-hidden="true" tabindex="-1"></a>        <span class="dt">bordercolor</span><span class="op">:</span> <span class="st">"#3b82f6"</span></span>
<span id="cb2-158"><a href="#cb2-158" aria-hidden="true" tabindex="-1"></a>      }<span class="op">,</span></span>
<span id="cb2-159"><a href="#cb2-159" aria-hidden="true" tabindex="-1"></a>      {</span>
<span id="cb2-160"><a href="#cb2-160" aria-hidden="true" tabindex="-1"></a>        <span class="dt">x</span><span class="op">:</span> <span class="dv">2010</span><span class="op">,</span></span>
<span id="cb2-161"><a href="#cb2-161" aria-hidden="true" tabindex="-1"></a>        <span class="dt">y</span><span class="op">:</span> yearCounts[<span class="dv">2010</span>]<span class="op">,</span></span>
<span id="cb2-162"><a href="#cb2-162" aria-hidden="true" tabindex="-1"></a>        <span class="dt">text</span><span class="op">:</span> <span class="st">"Haiti Earthquake"</span><span class="op">,</span></span>
<span id="cb2-163"><a href="#cb2-163" aria-hidden="true" tabindex="-1"></a>        <span class="dt">showarrow</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb2-164"><a href="#cb2-164" aria-hidden="true" tabindex="-1"></a>        <span class="dt">arrowhead</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span></span>
<span id="cb2-165"><a href="#cb2-165" aria-hidden="true" tabindex="-1"></a>        <span class="dt">ax</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span></span>
<span id="cb2-166"><a href="#cb2-166" aria-hidden="true" tabindex="-1"></a>        <span class="dt">ay</span><span class="op">:</span> <span class="op">-</span><span class="dv">50</span><span class="op">,</span></span>
<span id="cb2-167"><a href="#cb2-167" aria-hidden="true" tabindex="-1"></a>        <span class="dt">bgcolor</span><span class="op">:</span> <span class="st">"rgba(255,255,255,0.9)"</span><span class="op">,</span></span>
<span id="cb2-168"><a href="#cb2-168" aria-hidden="true" tabindex="-1"></a>        <span class="dt">bordercolor</span><span class="op">:</span> <span class="st">"#f59e0b"</span><span class="op">,</span></span>
<span id="cb2-169"><a href="#cb2-169" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb2-170"><a href="#cb2-170" aria-hidden="true" tabindex="-1"></a>      }<span class="op">,</span></span>
<span id="cb2-171"><a href="#cb2-171" aria-hidden="true" tabindex="-1"></a>        {</span>
<span id="cb2-172"><a href="#cb2-172" aria-hidden="true" tabindex="-1"></a>        <span class="dt">x</span><span class="op">:</span> <span class="dv">2020</span><span class="op">,</span></span>
<span id="cb2-173"><a href="#cb2-173" aria-hidden="true" tabindex="-1"></a>        <span class="dt">y</span><span class="op">:</span> yearCounts[<span class="dv">2020</span>]<span class="op">,</span></span>
<span id="cb2-174"><a href="#cb2-174" aria-hidden="true" tabindex="-1"></a>        <span class="dt">text</span><span class="op">:</span> <span class="st">"COVID-19 Pandemic"</span><span class="op">,</span></span>
<span id="cb2-175"><a href="#cb2-175" aria-hidden="true" tabindex="-1"></a>        <span class="dt">showarrow</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb2-176"><a href="#cb2-176" aria-hidden="true" tabindex="-1"></a>        <span class="dt">arrowhead</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span></span>
<span id="cb2-177"><a href="#cb2-177" aria-hidden="true" tabindex="-1"></a>        <span class="dt">ax</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span></span>
<span id="cb2-178"><a href="#cb2-178" aria-hidden="true" tabindex="-1"></a>        <span class="dt">ay</span><span class="op">:</span> <span class="op">-</span><span class="dv">50</span><span class="op">,</span></span>
<span id="cb2-179"><a href="#cb2-179" aria-hidden="true" tabindex="-1"></a>        <span class="dt">bgcolor</span><span class="op">:</span> <span class="st">"rgba(255,255,255,0.9)"</span><span class="op">,</span></span>
<span id="cb2-180"><a href="#cb2-180" aria-hidden="true" tabindex="-1"></a>        <span class="dt">bordercolor</span><span class="op">:</span> <span class="st">"#f59e0b"</span><span class="op">,</span></span>
<span id="cb2-181"><a href="#cb2-181" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb2-182"><a href="#cb2-182" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb2-183"><a href="#cb2-183" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb2-184"><a href="#cb2-184" aria-hidden="true" tabindex="-1"></a>    <span class="dt">shapes</span><span class="op">:</span> [</span>
<span id="cb2-185"><a href="#cb2-185" aria-hidden="true" tabindex="-1"></a>      {</span>
<span id="cb2-186"><a href="#cb2-186" aria-hidden="true" tabindex="-1"></a>        <span class="dt">type</span><span class="op">:</span> <span class="st">"rect"</span><span class="op">,</span></span>
<span id="cb2-187"><a href="#cb2-187" aria-hidden="true" tabindex="-1"></a>        <span class="dt">xref</span><span class="op">:</span> <span class="st">"x"</span><span class="op">,</span></span>
<span id="cb2-188"><a href="#cb2-188" aria-hidden="true" tabindex="-1"></a>        <span class="dt">yref</span><span class="op">:</span> <span class="st">"paper"</span><span class="op">,</span></span>
<span id="cb2-189"><a href="#cb2-189" aria-hidden="true" tabindex="-1"></a>        <span class="dt">x0</span><span class="op">:</span> <span class="dv">2010</span><span class="op">,</span></span>
<span id="cb2-190"><a href="#cb2-190" aria-hidden="true" tabindex="-1"></a>        <span class="dt">x1</span><span class="op">:</span> <span class="dv">2015</span><span class="op">,</span></span>
<span id="cb2-191"><a href="#cb2-191" aria-hidden="true" tabindex="-1"></a>        <span class="dt">y0</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span></span>
<span id="cb2-192"><a href="#cb2-192" aria-hidden="true" tabindex="-1"></a>        <span class="dt">y1</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span></span>
<span id="cb2-193"><a href="#cb2-193" aria-hidden="true" tabindex="-1"></a>        <span class="dt">fillcolor</span><span class="op">:</span> <span class="st">"rgba(59,130,246,0.05)"</span><span class="op">,</span></span>
<span id="cb2-194"><a href="#cb2-194" aria-hidden="true" tabindex="-1"></a>        <span class="dt">line</span><span class="op">:</span> { <span class="dt">width</span><span class="op">:</span> <span class="dv">0</span> }</span>
<span id="cb2-195"><a href="#cb2-195" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb2-196"><a href="#cb2-196" aria-hidden="true" tabindex="-1"></a>    ]</span>
<span id="cb2-197"><a href="#cb2-197" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb2-198"><a href="#cb2-198" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-199"><a href="#cb2-199" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-200"><a href="#cb2-200" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> config <span class="op">=</span> {</span>
<span id="cb2-201"><a href="#cb2-201" aria-hidden="true" tabindex="-1"></a>    <span class="dt">responsive</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb2-202"><a href="#cb2-202" aria-hidden="true" tabindex="-1"></a>    <span class="dt">displayModeBar</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb2-203"><a href="#cb2-203" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb2-204"><a href="#cb2-204" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-205"><a href="#cb2-205" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> el <span class="op">=</span> DOM<span class="op">.</span><span class="fu">element</span>(<span class="st">"div"</span>)<span class="op">;</span></span>
<span id="cb2-206"><a href="#cb2-206" aria-hidden="true" tabindex="-1"></a>  <span class="bu">window</span><span class="op">.</span><span class="at">incidentChart</span> <span class="op">=</span> el<span class="op">;</span></span>
<span id="cb2-207"><a href="#cb2-207" aria-hidden="true" tabindex="-1"></a>  Plotly<span class="op">.</span><span class="fu">newPlot</span>(el<span class="op">,</span> [trace]<span class="op">,</span> layout<span class="op">,</span> config)<span class="op">;</span></span>
<span id="cb2-208"><a href="#cb2-208" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> el<span class="op">;</span></span>
<span id="cb2-209"><a href="#cb2-209" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-2" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div id="cr-mapped" class="sticky">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb3" data-startfrom="229" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 228;"><span id="cb3-229"><a href="#cb3-229" aria-hidden="true" tabindex="-1"></a><span class="co">//| async: true</span></span>
<span id="cb3-230"><a href="#cb3-230" aria-hidden="true" tabindex="-1"></a>incidents2 <span class="op">=</span> <span class="cf">await</span> d3<span class="op">.</span><span class="fu">csv</span>(<span class="st">"security_incidents.csv"</span><span class="op">,</span> d <span class="kw">=&gt;</span> ({</span>
<span id="cb3-231"><a href="#cb3-231" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Year</span><span class="op">:</span> <span class="op">+</span>d[<span class="st">"Year"</span>]<span class="op">,</span></span>
<span id="cb3-232"><a href="#cb3-232" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Nationals</span><span class="op">:</span> <span class="op">+</span>d[<span class="st">"Total nationals"</span>]<span class="op">,</span></span>
<span id="cb3-233"><a href="#cb3-233" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Internationals</span><span class="op">:</span> <span class="op">+</span>d[<span class="st">"Total internationals"</span>]</span>
<span id="cb3-234"><a href="#cb3-234" aria-hidden="true" tabindex="-1"></a>}))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-3" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb4" data-startfrom="241" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 240;"><span id="cb4-241"><a href="#cb4-241" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb4-242"><a href="#cb4-242" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> yearlySums <span class="op">=</span> {}<span class="op">;</span></span>
<span id="cb4-243"><a href="#cb4-243" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-244"><a href="#cb4-244" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (<span class="kw">const</span> row <span class="kw">of</span> incidents2) {</span>
<span id="cb4-245"><a href="#cb4-245" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> (<span class="op">!</span><span class="pp">isNaN</span>(row<span class="op">.</span><span class="at">Year</span>)) {</span>
<span id="cb4-246"><a href="#cb4-246" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (<span class="op">!</span>yearlySums[row<span class="op">.</span><span class="at">Year</span>]) {</span>
<span id="cb4-247"><a href="#cb4-247" aria-hidden="true" tabindex="-1"></a>        yearlySums[row<span class="op">.</span><span class="at">Year</span>] <span class="op">=</span> { <span class="dt">nationals</span><span class="op">:</span> <span class="dv">0</span><span class="op">,</span> <span class="dt">internationals</span><span class="op">:</span> <span class="dv">0</span> }<span class="op">;</span></span>
<span id="cb4-248"><a href="#cb4-248" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb4-249"><a href="#cb4-249" aria-hidden="true" tabindex="-1"></a>      yearlySums[row<span class="op">.</span><span class="at">Year</span>]<span class="op">.</span><span class="at">nationals</span> <span class="op">+=</span> <span class="op">+</span>row<span class="op">.</span><span class="at">Nationals</span> <span class="op">||</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-250"><a href="#cb4-250" aria-hidden="true" tabindex="-1"></a>      yearlySums[row<span class="op">.</span><span class="at">Year</span>]<span class="op">.</span><span class="at">internationals</span> <span class="op">+=</span> <span class="op">+</span>row<span class="op">.</span><span class="at">Internationals</span> <span class="op">||</span> <span class="dv">0</span><span class="op">;</span></span>
<span id="cb4-251"><a href="#cb4-251" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-252"><a href="#cb4-252" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb4-253"><a href="#cb4-253" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-254"><a href="#cb4-254" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> sortedYears <span class="op">=</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">keys</span>(yearlySums)<span class="op">.</span><span class="fu">map</span>(<span class="bu">Number</span>)<span class="op">.</span><span class="fu">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> a <span class="op">-</span> b)<span class="op">;</span></span>
<span id="cb4-255"><a href="#cb4-255" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> nationals <span class="op">=</span> sortedYears<span class="op">.</span><span class="fu">map</span>(year <span class="kw">=&gt;</span> yearlySums[year]<span class="op">.</span><span class="at">nationals</span>)<span class="op">;</span></span>
<span id="cb4-256"><a href="#cb4-256" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> internationals <span class="op">=</span> sortedYears<span class="op">.</span><span class="fu">map</span>(year <span class="kw">=&gt;</span> yearlySums[year]<span class="op">.</span><span class="at">internationals</span>)<span class="op">;</span></span>
<span id="cb4-257"><a href="#cb4-257" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-258"><a href="#cb4-258" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> deltaNationals <span class="op">=</span> nationals<span class="op">.</span><span class="fu">map</span>((v<span class="op">,</span> i) <span class="kw">=&gt;</span> v <span class="op">-</span> (nationals[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">||</span> <span class="dv">0</span>))<span class="op">;</span></span>
<span id="cb4-259"><a href="#cb4-259" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> deltaInternationals <span class="op">=</span> internationals<span class="op">.</span><span class="fu">map</span>((v<span class="op">,</span> i) <span class="kw">=&gt;</span> v <span class="op">-</span> (internationals[i <span class="op">-</span> <span class="dv">1</span>] <span class="op">||</span> <span class="dv">0</span>))<span class="op">;</span></span>
<span id="cb4-260"><a href="#cb4-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-261"><a href="#cb4-261" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> traces <span class="op">=</span> [</span>
<span id="cb4-262"><a href="#cb4-262" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb4-263"><a href="#cb4-263" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> sortedYears<span class="op">,</span></span>
<span id="cb4-264"><a href="#cb4-264" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> nationals<span class="op">,</span></span>
<span id="cb4-265"><a href="#cb4-265" aria-hidden="true" tabindex="-1"></a>      <span class="dt">name</span><span class="op">:</span> <span class="st">"Nationals"</span><span class="op">,</span></span>
<span id="cb4-266"><a href="#cb4-266" aria-hidden="true" tabindex="-1"></a>      <span class="dt">type</span><span class="op">:</span> <span class="st">"scatter"</span><span class="op">,</span></span>
<span id="cb4-267"><a href="#cb4-267" aria-hidden="true" tabindex="-1"></a>      <span class="dt">mode</span><span class="op">:</span> <span class="st">"lines+markers"</span><span class="op">,</span></span>
<span id="cb4-268"><a href="#cb4-268" aria-hidden="true" tabindex="-1"></a>      <span class="dt">marker</span><span class="op">:</span> {</span>
<span id="cb4-269"><a href="#cb4-269" aria-hidden="true" tabindex="-1"></a>        <span class="dt">color</span><span class="op">:</span> <span class="st">"#2563eb"</span><span class="op">,</span></span>
<span id="cb4-270"><a href="#cb4-270" aria-hidden="true" tabindex="-1"></a>        <span class="dt">symbol</span><span class="op">:</span> <span class="st">"circle"</span><span class="op">,</span></span>
<span id="cb4-271"><a href="#cb4-271" aria-hidden="true" tabindex="-1"></a>        <span class="dt">size</span><span class="op">:</span> <span class="dv">7</span></span>
<span id="cb4-272"><a href="#cb4-272" aria-hidden="true" tabindex="-1"></a>      }<span class="op">,</span></span>
<span id="cb4-273"><a href="#cb4-273" aria-hidden="true" tabindex="-1"></a>      <span class="dt">line</span><span class="op">:</span> {</span>
<span id="cb4-274"><a href="#cb4-274" aria-hidden="true" tabindex="-1"></a>        <span class="dt">color</span><span class="op">:</span> <span class="st">"#2563eb"</span><span class="op">,</span></span>
<span id="cb4-275"><a href="#cb4-275" aria-hidden="true" tabindex="-1"></a>        <span class="dt">width</span><span class="op">:</span> <span class="dv">3</span></span>
<span id="cb4-276"><a href="#cb4-276" aria-hidden="true" tabindex="-1"></a>      }<span class="op">,</span></span>
<span id="cb4-277"><a href="#cb4-277" aria-hidden="true" tabindex="-1"></a>      <span class="dt">hovertemplate</span><span class="op">:</span></span>
<span id="cb4-278"><a href="#cb4-278" aria-hidden="true" tabindex="-1"></a>        <span class="st">"&lt;b&gt;%{y}&lt;/b&gt; national staff&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb4-279"><a href="#cb4-279" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Year: &lt;b&gt;%{x}&lt;/b&gt;&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb4-280"><a href="#cb4-280" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Change from previous: &lt;b&gt;%{customdata:+}&lt;/b&gt;&lt;extra&gt;&lt;/extra&gt;"</span><span class="op">,</span></span>
<span id="cb4-281"><a href="#cb4-281" aria-hidden="true" tabindex="-1"></a>      <span class="dt">customdata</span><span class="op">:</span> deltaNationals</span>
<span id="cb4-282"><a href="#cb4-282" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb4-283"><a href="#cb4-283" aria-hidden="true" tabindex="-1"></a>    {</span>
<span id="cb4-284"><a href="#cb4-284" aria-hidden="true" tabindex="-1"></a>      <span class="dt">x</span><span class="op">:</span> sortedYears<span class="op">,</span></span>
<span id="cb4-285"><a href="#cb4-285" aria-hidden="true" tabindex="-1"></a>      <span class="dt">y</span><span class="op">:</span> internationals<span class="op">,</span></span>
<span id="cb4-286"><a href="#cb4-286" aria-hidden="true" tabindex="-1"></a>      <span class="dt">name</span><span class="op">:</span> <span class="st">"Internationals"</span><span class="op">,</span></span>
<span id="cb4-287"><a href="#cb4-287" aria-hidden="true" tabindex="-1"></a>      <span class="dt">type</span><span class="op">:</span> <span class="st">"scatter"</span><span class="op">,</span></span>
<span id="cb4-288"><a href="#cb4-288" aria-hidden="true" tabindex="-1"></a>      <span class="dt">mode</span><span class="op">:</span> <span class="st">"lines+markers"</span><span class="op">,</span></span>
<span id="cb4-289"><a href="#cb4-289" aria-hidden="true" tabindex="-1"></a>      <span class="dt">marker</span><span class="op">:</span> {</span>
<span id="cb4-290"><a href="#cb4-290" aria-hidden="true" tabindex="-1"></a>        <span class="dt">color</span><span class="op">:</span> <span class="st">"#ea580c"</span><span class="op">,</span></span>
<span id="cb4-291"><a href="#cb4-291" aria-hidden="true" tabindex="-1"></a>        <span class="dt">symbol</span><span class="op">:</span> <span class="st">"diamond"</span><span class="op">,</span></span>
<span id="cb4-292"><a href="#cb4-292" aria-hidden="true" tabindex="-1"></a>        <span class="dt">size</span><span class="op">:</span> <span class="dv">7</span></span>
<span id="cb4-293"><a href="#cb4-293" aria-hidden="true" tabindex="-1"></a>      }<span class="op">,</span></span>
<span id="cb4-294"><a href="#cb4-294" aria-hidden="true" tabindex="-1"></a>      <span class="dt">line</span><span class="op">:</span> {</span>
<span id="cb4-295"><a href="#cb4-295" aria-hidden="true" tabindex="-1"></a>        <span class="dt">color</span><span class="op">:</span> <span class="st">"#ea580c"</span><span class="op">,</span></span>
<span id="cb4-296"><a href="#cb4-296" aria-hidden="true" tabindex="-1"></a>        <span class="dt">width</span><span class="op">:</span> <span class="dv">3</span><span class="op">,</span></span>
<span id="cb4-297"><a href="#cb4-297" aria-hidden="true" tabindex="-1"></a>        <span class="dt">dash</span><span class="op">:</span> <span class="st">"dot"</span></span>
<span id="cb4-298"><a href="#cb4-298" aria-hidden="true" tabindex="-1"></a>      }<span class="op">,</span></span>
<span id="cb4-299"><a href="#cb4-299" aria-hidden="true" tabindex="-1"></a>      <span class="dt">hovertemplate</span><span class="op">:</span></span>
<span id="cb4-300"><a href="#cb4-300" aria-hidden="true" tabindex="-1"></a>        <span class="st">"&lt;b&gt;%{y}&lt;/b&gt; international staff&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb4-301"><a href="#cb4-301" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Year: &lt;b&gt;%{x}&lt;/b&gt;&lt;br&gt;"</span> <span class="op">+</span></span>
<span id="cb4-302"><a href="#cb4-302" aria-hidden="true" tabindex="-1"></a>        <span class="st">"Change from previous: &lt;b&gt;%{customdata:+}&lt;/b&gt;&lt;extra&gt;&lt;/extra&gt;"</span><span class="op">,</span></span>
<span id="cb4-303"><a href="#cb4-303" aria-hidden="true" tabindex="-1"></a>      <span class="dt">customdata</span><span class="op">:</span> deltaInternationals</span>
<span id="cb4-304"><a href="#cb4-304" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb4-305"><a href="#cb4-305" aria-hidden="true" tabindex="-1"></a>  ]<span class="op">;</span></span>
<span id="cb4-306"><a href="#cb4-306" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-307"><a href="#cb4-307" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> layout <span class="op">=</span> {</span>
<span id="cb4-308"><a href="#cb4-308" aria-hidden="true" tabindex="-1"></a>    <span class="dt">title</span><span class="op">:</span> {</span>
<span id="cb4-309"><a href="#cb4-309" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> <span class="st">"Nationals vs Internationals: Aid Worker Incidents Over Time"</span><span class="op">,</span></span>
<span id="cb4-310"><a href="#cb4-310" aria-hidden="true" tabindex="-1"></a>      <span class="dt">font</span><span class="op">:</span> { <span class="dt">size</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span> <span class="dt">family</span><span class="op">:</span> <span class="st">"Arial, sans-serif"</span> }</span>
<span id="cb4-311"><a href="#cb4-311" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb4-312"><a href="#cb4-312" aria-hidden="true" tabindex="-1"></a>    <span class="dt">paper_bgcolor</span><span class="op">:</span> <span class="st">"#f0faff"</span><span class="op">,</span></span>
<span id="cb4-313"><a href="#cb4-313" aria-hidden="true" tabindex="-1"></a>    <span class="dt">plot_bgcolor</span><span class="op">:</span> <span class="st">"#ffffff"</span><span class="op">,</span></span>
<span id="cb4-314"><a href="#cb4-314" aria-hidden="true" tabindex="-1"></a>    <span class="dt">xaxis</span><span class="op">:</span> {</span>
<span id="cb4-315"><a href="#cb4-315" aria-hidden="true" tabindex="-1"></a>      <span class="dt">title</span><span class="op">:</span> <span class="st">"Year"</span><span class="op">,</span></span>
<span id="cb4-316"><a href="#cb4-316" aria-hidden="true" tabindex="-1"></a>      <span class="dt">gridcolor</span><span class="op">:</span> <span class="st">"#dbeafe"</span><span class="op">,</span></span>
<span id="cb4-317"><a href="#cb4-317" aria-hidden="true" tabindex="-1"></a>      <span class="dt">zeroline</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb4-318"><a href="#cb4-318" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb4-319"><a href="#cb4-319" aria-hidden="true" tabindex="-1"></a>    <span class="dt">yaxis</span><span class="op">:</span> {</span>
<span id="cb4-320"><a href="#cb4-320" aria-hidden="true" tabindex="-1"></a>      <span class="dt">title</span><span class="op">:</span> <span class="st">"Number of Incidents"</span><span class="op">,</span></span>
<span id="cb4-321"><a href="#cb4-321" aria-hidden="true" tabindex="-1"></a>      <span class="dt">gridcolor</span><span class="op">:</span> <span class="st">"#dbeafe"</span><span class="op">,</span></span>
<span id="cb4-322"><a href="#cb4-322" aria-hidden="true" tabindex="-1"></a>      <span class="dt">zeroline</span><span class="op">:</span> <span class="kw">false</span></span>
<span id="cb4-323"><a href="#cb4-323" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb4-324"><a href="#cb4-324" aria-hidden="true" tabindex="-1"></a>    <span class="dt">hovermode</span><span class="op">:</span> <span class="st">"x unified"</span><span class="op">,</span></span>
<span id="cb4-325"><a href="#cb4-325" aria-hidden="true" tabindex="-1"></a>    <span class="dt">legend</span><span class="op">:</span> {</span>
<span id="cb4-326"><a href="#cb4-326" aria-hidden="true" tabindex="-1"></a>      <span class="dt">bgcolor</span><span class="op">:</span> <span class="st">"#ffffff"</span><span class="op">,</span></span>
<span id="cb4-327"><a href="#cb4-327" aria-hidden="true" tabindex="-1"></a>      <span class="dt">bordercolor</span><span class="op">:</span> <span class="st">"#ccc"</span><span class="op">,</span></span>
<span id="cb4-328"><a href="#cb4-328" aria-hidden="true" tabindex="-1"></a>      <span class="dt">borderwidth</span><span class="op">:</span> <span class="dv">1</span></span>
<span id="cb4-329"><a href="#cb4-329" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb4-330"><a href="#cb4-330" aria-hidden="true" tabindex="-1"></a>    <span class="dt">annotations</span><span class="op">:</span> [</span>
<span id="cb4-331"><a href="#cb4-331" aria-hidden="true" tabindex="-1"></a>      {</span>
<span id="cb4-332"><a href="#cb4-332" aria-hidden="true" tabindex="-1"></a>        <span class="dt">x</span><span class="op">:</span> <span class="dv">2013</span><span class="op">,</span></span>
<span id="cb4-333"><a href="#cb4-333" aria-hidden="true" tabindex="-1"></a>        <span class="dt">y</span><span class="op">:</span> nationals[sortedYears<span class="op">.</span><span class="fu">indexOf</span>(<span class="dv">2013</span>)]<span class="op">,</span></span>
<span id="cb4-334"><a href="#cb4-334" aria-hidden="true" tabindex="-1"></a>        <span class="dt">text</span><span class="op">:</span> <span class="st">"First Nat. Peak"</span><span class="op">,</span></span>
<span id="cb4-335"><a href="#cb4-335" aria-hidden="true" tabindex="-1"></a>        <span class="dt">showarrow</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb4-336"><a href="#cb4-336" aria-hidden="true" tabindex="-1"></a>        <span class="dt">arrowhead</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span></span>
<span id="cb4-337"><a href="#cb4-337" aria-hidden="true" tabindex="-1"></a>        <span class="dt">ax</span><span class="op">:</span> <span class="op">-</span><span class="dv">60</span><span class="op">,</span></span>
<span id="cb4-338"><a href="#cb4-338" aria-hidden="true" tabindex="-1"></a>        <span class="dt">ay</span><span class="op">:</span> <span class="op">-</span><span class="dv">40</span><span class="op">,</span></span>
<span id="cb4-339"><a href="#cb4-339" aria-hidden="true" tabindex="-1"></a>        <span class="dt">bgcolor</span><span class="op">:</span> <span class="st">"#ffffff"</span><span class="op">,</span></span>
<span id="cb4-340"><a href="#cb4-340" aria-hidden="true" tabindex="-1"></a>        <span class="dt">bordercolor</span><span class="op">:</span> <span class="st">"#2563eb"</span></span>
<span id="cb4-341"><a href="#cb4-341" aria-hidden="true" tabindex="-1"></a>      }<span class="op">,</span></span>
<span id="cb4-342"><a href="#cb4-342" aria-hidden="true" tabindex="-1"></a>         {</span>
<span id="cb4-343"><a href="#cb4-343" aria-hidden="true" tabindex="-1"></a>        <span class="dt">x</span><span class="op">:</span> <span class="dv">2024</span><span class="op">,</span></span>
<span id="cb4-344"><a href="#cb4-344" aria-hidden="true" tabindex="-1"></a>        <span class="dt">y</span><span class="op">:</span> nationals[sortedYears<span class="op">.</span><span class="fu">indexOf</span>(<span class="dv">2024</span>)]<span class="op">,</span></span>
<span id="cb4-345"><a href="#cb4-345" aria-hidden="true" tabindex="-1"></a>        <span class="dt">text</span><span class="op">:</span> <span class="st">"Highest Nat. Peak"</span><span class="op">,</span></span>
<span id="cb4-346"><a href="#cb4-346" aria-hidden="true" tabindex="-1"></a>        <span class="dt">showarrow</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb4-347"><a href="#cb4-347" aria-hidden="true" tabindex="-1"></a>        <span class="dt">arrowhead</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span></span>
<span id="cb4-348"><a href="#cb4-348" aria-hidden="true" tabindex="-1"></a>        <span class="dt">ax</span><span class="op">:</span> <span class="op">-</span><span class="dv">60</span><span class="op">,</span></span>
<span id="cb4-349"><a href="#cb4-349" aria-hidden="true" tabindex="-1"></a>        <span class="dt">ay</span><span class="op">:</span> <span class="op">-</span><span class="dv">40</span><span class="op">,</span></span>
<span id="cb4-350"><a href="#cb4-350" aria-hidden="true" tabindex="-1"></a>        <span class="dt">bgcolor</span><span class="op">:</span> <span class="st">"#ffffff"</span><span class="op">,</span></span>
<span id="cb4-351"><a href="#cb4-351" aria-hidden="true" tabindex="-1"></a>        <span class="dt">bordercolor</span><span class="op">:</span> <span class="st">"#2563eb"</span></span>
<span id="cb4-352"><a href="#cb4-352" aria-hidden="true" tabindex="-1"></a>      }<span class="op">,</span></span>
<span id="cb4-353"><a href="#cb4-353" aria-hidden="true" tabindex="-1"></a>      {</span>
<span id="cb4-354"><a href="#cb4-354" aria-hidden="true" tabindex="-1"></a>        <span class="dt">x</span><span class="op">:</span> <span class="dv">2009</span><span class="op">,</span></span>
<span id="cb4-355"><a href="#cb4-355" aria-hidden="true" tabindex="-1"></a>        <span class="dt">y</span><span class="op">:</span> internationals[sortedYears<span class="op">.</span><span class="fu">indexOf</span>(<span class="dv">2009</span>)]<span class="op">,</span></span>
<span id="cb4-356"><a href="#cb4-356" aria-hidden="true" tabindex="-1"></a>        <span class="dt">text</span><span class="op">:</span> <span class="st">"Highest Int. Peak"</span><span class="op">,</span></span>
<span id="cb4-357"><a href="#cb4-357" aria-hidden="true" tabindex="-1"></a>        <span class="dt">showarrow</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb4-358"><a href="#cb4-358" aria-hidden="true" tabindex="-1"></a>        <span class="dt">arrowhead</span><span class="op">:</span> <span class="dv">6</span><span class="op">,</span></span>
<span id="cb4-359"><a href="#cb4-359" aria-hidden="true" tabindex="-1"></a>        <span class="dt">ax</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span></span>
<span id="cb4-360"><a href="#cb4-360" aria-hidden="true" tabindex="-1"></a>        <span class="dt">ay</span><span class="op">:</span> <span class="op">-</span><span class="dv">50</span><span class="op">,</span></span>
<span id="cb4-361"><a href="#cb4-361" aria-hidden="true" tabindex="-1"></a>        <span class="dt">bgcolor</span><span class="op">:</span> <span class="st">"#ffffff"</span><span class="op">,</span></span>
<span id="cb4-362"><a href="#cb4-362" aria-hidden="true" tabindex="-1"></a>        <span class="dt">bordercolor</span><span class="op">:</span> <span class="st">"#ea580c"</span></span>
<span id="cb4-363"><a href="#cb4-363" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb4-364"><a href="#cb4-364" aria-hidden="true" tabindex="-1"></a>    ]<span class="op">,</span></span>
<span id="cb4-365"><a href="#cb4-365" aria-hidden="true" tabindex="-1"></a>    <span class="dt">margin</span><span class="op">:</span> { <span class="dt">t</span><span class="op">:</span> <span class="dv">60</span><span class="op">,</span> <span class="dt">l</span><span class="op">:</span> <span class="dv">60</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span> <span class="dt">b</span><span class="op">:</span> <span class="dv">60</span> }</span>
<span id="cb4-366"><a href="#cb4-366" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb4-367"><a href="#cb4-367" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-368"><a href="#cb4-368" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> el <span class="op">=</span> DOM<span class="op">.</span><span class="fu">element</span>(<span class="st">"div"</span>)<span class="op">;</span></span>
<span id="cb4-369"><a href="#cb4-369" aria-hidden="true" tabindex="-1"></a>  Plotly<span class="op">.</span><span class="fu">newPlot</span>(el<span class="op">,</span> traces<span class="op">,</span> layout<span class="op">,</span> { <span class="dt">responsive</span><span class="op">:</span> <span class="kw">true</span> })<span class="op">;</span></span>
<span id="cb4-370"><a href="#cb4-370" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> el<span class="op">;</span></span>
<span id="cb4-371"><a href="#cb4-371" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-4" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div id="cr-map2" class="sticky">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb5" data-startfrom="395" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 394;"><span id="cb5-395"><a href="#cb5-395" aria-hidden="true" tabindex="-1"></a>attackData <span class="op">=</span> <span class="cf">await</span> d3<span class="op">.</span><span class="fu">csv</span>(<span class="st">"security_incidents.csv"</span><span class="op">,</span> d <span class="kw">=&gt;</span> ({</span>
<span id="cb5-396"><a href="#cb5-396" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Year</span><span class="op">:</span> <span class="op">+</span>d[<span class="st">"Year"</span>]<span class="op">,</span></span>
<span id="cb5-397"><a href="#cb5-397" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Attack</span><span class="op">:</span> d[<span class="st">"Means of attack"</span>]</span>
<span id="cb5-398"><a href="#cb5-398" aria-hidden="true" tabindex="-1"></a>}))<span class="op">.</span><span class="fu">then</span>(data <span class="kw">=&gt;</span> data<span class="op">.</span><span class="fu">filter</span>(d <span class="kw">=&gt;</span> <span class="op">!</span><span class="pp">isNaN</span>(d<span class="op">.</span><span class="at">Year</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-5" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb6" data-startfrom="404" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 403;"><span id="cb6-404"><a href="#cb6-404" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb6-405"><a href="#cb6-405" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-406"><a href="#cb6-406" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> top5 <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(</span>
<span id="cb6-407"><a href="#cb6-407" aria-hidden="true" tabindex="-1"></a>    d3<span class="op">.</span><span class="fu">rollups</span>(attackData<span class="op">,</span> v <span class="kw">=&gt;</span> v<span class="op">.</span><span class="at">length</span><span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">Attack</span>)</span>
<span id="cb6-408"><a href="#cb6-408" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="fu">descending</span>(a[<span class="dv">1</span>]<span class="op">,</span> b[<span class="dv">1</span>]))</span>
<span id="cb6-409"><a href="#cb6-409" aria-hidden="true" tabindex="-1"></a>      <span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">5</span>)<span class="op">,</span></span>
<span id="cb6-410"><a href="#cb6-410" aria-hidden="true" tabindex="-1"></a>    d <span class="kw">=&gt;</span> d[<span class="dv">0</span>]</span>
<span id="cb6-411"><a href="#cb6-411" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb6-412"><a href="#cb6-412" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-413"><a href="#cb6-413" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-414"><a href="#cb6-414" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> grouped <span class="op">=</span> d3<span class="op">.</span><span class="fu">rollups</span>(</span>
<span id="cb6-415"><a href="#cb6-415" aria-hidden="true" tabindex="-1"></a>    attackData<span class="op">.</span><span class="fu">filter</span>(d <span class="kw">=&gt;</span> top5<span class="op">.</span><span class="fu">includes</span>(d<span class="op">.</span><span class="at">Attack</span>))<span class="op">,</span></span>
<span id="cb6-416"><a href="#cb6-416" aria-hidden="true" tabindex="-1"></a>    v <span class="kw">=&gt;</span> v<span class="op">.</span><span class="at">length</span><span class="op">,</span></span>
<span id="cb6-417"><a href="#cb6-417" aria-hidden="true" tabindex="-1"></a>    d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">Year</span><span class="op">,</span></span>
<span id="cb6-418"><a href="#cb6-418" aria-hidden="true" tabindex="-1"></a>    d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">Attack</span></span>
<span id="cb6-419"><a href="#cb6-419" aria-hidden="true" tabindex="-1"></a>  )<span class="op">;</span></span>
<span id="cb6-420"><a href="#cb6-420" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-421"><a href="#cb6-421" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb6-422"><a href="#cb6-422" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> attackByYear <span class="op">=</span> {}<span class="op">;</span></span>
<span id="cb6-423"><a href="#cb6-423" aria-hidden="true" tabindex="-1"></a>  <span class="cf">for</span> (<span class="kw">const</span> [year<span class="op">,</span> entries] <span class="kw">of</span> grouped) {</span>
<span id="cb6-424"><a href="#cb6-424" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> entryMap <span class="op">=</span> <span class="kw">new</span> <span class="bu">Map</span>(entries)<span class="op">;</span></span>
<span id="cb6-425"><a href="#cb6-425" aria-hidden="true" tabindex="-1"></a>    attackByYear[year] <span class="op">=</span> top5<span class="op">.</span><span class="fu">map</span>(attack <span class="kw">=&gt;</span> ({</span>
<span id="cb6-426"><a href="#cb6-426" aria-hidden="true" tabindex="-1"></a>      attack<span class="op">,</span></span>
<span id="cb6-427"><a href="#cb6-427" aria-hidden="true" tabindex="-1"></a>      <span class="dt">count</span><span class="op">:</span> entryMap<span class="op">.</span><span class="fu">get</span>(attack) <span class="op">||</span> <span class="dv">0</span></span>
<span id="cb6-428"><a href="#cb6-428" aria-hidden="true" tabindex="-1"></a>    }))<span class="op">;</span></span>
<span id="cb6-429"><a href="#cb6-429" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-430"><a href="#cb6-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-431"><a href="#cb6-431" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> attackYears <span class="op">=</span> <span class="bu">Object</span><span class="op">.</span><span class="fu">keys</span>(attackByYear)<span class="op">.</span><span class="fu">map</span>(<span class="bu">Number</span>)<span class="op">.</span><span class="fu">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> a <span class="op">-</span> b)<span class="op">;</span></span>
<span id="cb6-432"><a href="#cb6-432" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> firstYear <span class="op">=</span> attackYears[<span class="dv">0</span>]<span class="op">;</span></span>
<span id="cb6-433"><a href="#cb6-433" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-434"><a href="#cb6-434" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb6-435"><a href="#cb6-435" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> el <span class="op">=</span> <span class="fu">html</span><span class="vs">`&lt;div id="scroll-attack-chart" style="height: 700px;"&gt;&lt;/div&gt;`</span><span class="op">;</span></span>
<span id="cb6-436"><a href="#cb6-436" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> maxX <span class="op">=</span> d3<span class="op">.</span><span class="fu">max</span>(<span class="bu">Object</span><span class="op">.</span><span class="fu">values</span>(attackByYear)<span class="op">.</span><span class="fu">flat</span>()<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">count</span>) <span class="op">*</span> <span class="fl">1.2</span><span class="op">;</span></span>
<span id="cb6-437"><a href="#cb6-437" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-438"><a href="#cb6-438" aria-hidden="true" tabindex="-1"></a>  <span class="kw">function</span> <span class="fu">getBarColors</span>(data) {</span>
<span id="cb6-439"><a href="#cb6-439" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> maxCount <span class="op">=</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">max</span>(<span class="op">...</span>data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">count</span>))<span class="op">;</span></span>
<span id="cb6-440"><a href="#cb6-440" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">count</span> <span class="op">===</span> maxCount <span class="op">&amp;&amp;</span> d<span class="op">.</span><span class="at">count</span> <span class="op">&gt;</span> <span class="dv">0</span> <span class="op">?</span> <span class="st">"#ef4444"</span> <span class="op">:</span> <span class="st">"#3b82f6"</span>)<span class="op">;</span></span>
<span id="cb6-441"><a href="#cb6-441" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb6-442"><a href="#cb6-442" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-443"><a href="#cb6-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-444"><a href="#cb6-444" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> initial <span class="op">=</span> attackByYear[firstYear]<span class="op">;</span></span>
<span id="cb6-445"><a href="#cb6-445" aria-hidden="true" tabindex="-1"></a>  Plotly<span class="op">.</span><span class="fu">newPlot</span>(el<span class="op">,</span> [{</span>
<span id="cb6-446"><a href="#cb6-446" aria-hidden="true" tabindex="-1"></a>    <span class="dt">type</span><span class="op">:</span> <span class="st">"bar"</span><span class="op">,</span></span>
<span id="cb6-447"><a href="#cb6-447" aria-hidden="true" tabindex="-1"></a>    <span class="dt">orientation</span><span class="op">:</span> <span class="st">"h"</span><span class="op">,</span></span>
<span id="cb6-448"><a href="#cb6-448" aria-hidden="true" tabindex="-1"></a>    <span class="dt">x</span><span class="op">:</span> initial<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">count</span>)<span class="op">,</span></span>
<span id="cb6-449"><a href="#cb6-449" aria-hidden="true" tabindex="-1"></a>    <span class="dt">y</span><span class="op">:</span> initial<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">attack</span>)<span class="op">,</span></span>
<span id="cb6-450"><a href="#cb6-450" aria-hidden="true" tabindex="-1"></a>    <span class="dt">text</span><span class="op">:</span> initial<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">count</span>)<span class="op">,</span></span>
<span id="cb6-451"><a href="#cb6-451" aria-hidden="true" tabindex="-1"></a>    <span class="dt">textposition</span><span class="op">:</span> <span class="st">"auto"</span><span class="op">,</span></span>
<span id="cb6-452"><a href="#cb6-452" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marker</span><span class="op">:</span> { <span class="dt">color</span><span class="op">:</span> <span class="fu">getBarColors</span>(initial) }<span class="op">,</span></span>
<span id="cb6-453"><a href="#cb6-453" aria-hidden="true" tabindex="-1"></a>    <span class="dt">hovertemplate</span><span class="op">:</span> <span class="st">"&lt;b&gt;%{y}&lt;/b&gt;&lt;br&gt;%{x} incidents&lt;extra&gt;&lt;/extra&gt;"</span></span>
<span id="cb6-454"><a href="#cb6-454" aria-hidden="true" tabindex="-1"></a>  }]<span class="op">,</span> {</span>
<span id="cb6-455"><a href="#cb6-455" aria-hidden="true" tabindex="-1"></a>    <span class="dt">title</span><span class="op">:</span> {</span>
<span id="cb6-456"><a href="#cb6-456" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> <span class="vs">`Top 5 Means of Attack on Aid Workers – </span><span class="sc">${</span>firstYear<span class="sc">}</span><span class="vs">`</span><span class="op">,</span></span>
<span id="cb6-457"><a href="#cb6-457" aria-hidden="true" tabindex="-1"></a>      <span class="dt">font</span><span class="op">:</span> { <span class="dt">size</span><span class="op">:</span> <span class="dv">20</span> }</span>
<span id="cb6-458"><a href="#cb6-458" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb6-459"><a href="#cb6-459" aria-hidden="true" tabindex="-1"></a>    <span class="dt">paper_bgcolor</span><span class="op">:</span> <span class="st">"#f0faff"</span><span class="op">,</span></span>
<span id="cb6-460"><a href="#cb6-460" aria-hidden="true" tabindex="-1"></a>    <span class="dt">plot_bgcolor</span><span class="op">:</span> <span class="st">"#ffffff"</span><span class="op">,</span></span>
<span id="cb6-461"><a href="#cb6-461" aria-hidden="true" tabindex="-1"></a>    <span class="dt">margin</span><span class="op">:</span> { <span class="dt">t</span><span class="op">:</span> <span class="dv">60</span><span class="op">,</span> <span class="dt">l</span><span class="op">:</span> <span class="dv">180</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">30</span><span class="op">,</span> <span class="dt">b</span><span class="op">:</span> <span class="dv">60</span> }<span class="op">,</span></span>
<span id="cb6-462"><a href="#cb6-462" aria-hidden="true" tabindex="-1"></a>    <span class="dt">xaxis</span><span class="op">:</span> {</span>
<span id="cb6-463"><a href="#cb6-463" aria-hidden="true" tabindex="-1"></a>      <span class="dt">title</span><span class="op">:</span> <span class="st">"Number of Incidents"</span><span class="op">,</span></span>
<span id="cb6-464"><a href="#cb6-464" aria-hidden="true" tabindex="-1"></a>      <span class="dt">gridcolor</span><span class="op">:</span> <span class="st">"#dbeafe"</span><span class="op">,</span></span>
<span id="cb6-465"><a href="#cb6-465" aria-hidden="true" tabindex="-1"></a>      <span class="dt">range</span><span class="op">:</span> [<span class="dv">0</span><span class="op">,</span> maxX]</span>
<span id="cb6-466"><a href="#cb6-466" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb6-467"><a href="#cb6-467" aria-hidden="true" tabindex="-1"></a>    <span class="dt">yaxis</span><span class="op">:</span> {</span>
<span id="cb6-468"><a href="#cb6-468" aria-hidden="true" tabindex="-1"></a>      <span class="dt">title</span><span class="op">:</span> <span class="st">"Means of Attack"</span><span class="op">,</span></span>
<span id="cb6-469"><a href="#cb6-469" aria-hidden="true" tabindex="-1"></a>      <span class="dt">gridcolor</span><span class="op">:</span> <span class="st">"#dbeafe"</span><span class="op">,</span></span>
<span id="cb6-470"><a href="#cb6-470" aria-hidden="true" tabindex="-1"></a>      <span class="dt">autorange</span><span class="op">:</span> <span class="st">"reversed"</span></span>
<span id="cb6-471"><a href="#cb6-471" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb6-472"><a href="#cb6-472" aria-hidden="true" tabindex="-1"></a>    <span class="dt">bargap</span><span class="op">:</span> <span class="fl">0.5</span></span>
<span id="cb6-473"><a href="#cb6-473" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span> { <span class="dt">responsive</span><span class="op">:</span> <span class="kw">true</span> })<span class="op">;</span></span>
<span id="cb6-474"><a href="#cb6-474" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-475"><a href="#cb6-475" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> observer <span class="op">=</span> <span class="kw">new</span> <span class="fu">IntersectionObserver</span>((entries) <span class="kw">=&gt;</span> {</span>
<span id="cb6-476"><a href="#cb6-476" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (<span class="kw">const</span> entry <span class="kw">of</span> entries) {</span>
<span id="cb6-477"><a href="#cb6-477" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> (entry<span class="op">.</span><span class="at">isIntersecting</span>) {</span>
<span id="cb6-478"><a href="#cb6-478" aria-hidden="true" tabindex="-1"></a>        <span class="kw">let</span> index <span class="op">=</span> <span class="dv">1</span><span class="op">;</span></span>
<span id="cb6-479"><a href="#cb6-479" aria-hidden="true" tabindex="-1"></a>        <span class="kw">const</span> run <span class="op">=</span> () <span class="kw">=&gt;</span> {</span>
<span id="cb6-480"><a href="#cb6-480" aria-hidden="true" tabindex="-1"></a>          <span class="cf">if</span> (index <span class="op">&gt;=</span> attackYears<span class="op">.</span><span class="at">length</span>) <span class="cf">return</span><span class="op">;</span></span>
<span id="cb6-481"><a href="#cb6-481" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-482"><a href="#cb6-482" aria-hidden="true" tabindex="-1"></a>          <span class="kw">const</span> year <span class="op">=</span> attackYears[index]<span class="op">;</span></span>
<span id="cb6-483"><a href="#cb6-483" aria-hidden="true" tabindex="-1"></a>          <span class="kw">const</span> data <span class="op">=</span> attackByYear[year]<span class="op">;</span></span>
<span id="cb6-484"><a href="#cb6-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-485"><a href="#cb6-485" aria-hidden="true" tabindex="-1"></a>          Plotly<span class="op">.</span><span class="fu">animate</span>(el<span class="op">,</span> {</span>
<span id="cb6-486"><a href="#cb6-486" aria-hidden="true" tabindex="-1"></a>            <span class="dt">data</span><span class="op">:</span> [{</span>
<span id="cb6-487"><a href="#cb6-487" aria-hidden="true" tabindex="-1"></a>              <span class="dt">x</span><span class="op">:</span> data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">count</span>)<span class="op">,</span></span>
<span id="cb6-488"><a href="#cb6-488" aria-hidden="true" tabindex="-1"></a>              <span class="dt">y</span><span class="op">:</span> data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">attack</span>)<span class="op">,</span></span>
<span id="cb6-489"><a href="#cb6-489" aria-hidden="true" tabindex="-1"></a>              <span class="dt">text</span><span class="op">:</span> data<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">count</span>)<span class="op">,</span></span>
<span id="cb6-490"><a href="#cb6-490" aria-hidden="true" tabindex="-1"></a>              <span class="dt">marker</span><span class="op">:</span> { <span class="dt">color</span><span class="op">:</span> <span class="fu">getBarColors</span>(data) }</span>
<span id="cb6-491"><a href="#cb6-491" aria-hidden="true" tabindex="-1"></a>            }]<span class="op">,</span></span>
<span id="cb6-492"><a href="#cb6-492" aria-hidden="true" tabindex="-1"></a>            <span class="dt">layout</span><span class="op">:</span> { <span class="dt">title</span><span class="op">:</span> <span class="vs">`Top 5 Means of Attack on Aid Workers – </span><span class="sc">${</span>year<span class="sc">}</span><span class="vs">`</span> }</span>
<span id="cb6-493"><a href="#cb6-493" aria-hidden="true" tabindex="-1"></a>          }<span class="op">,</span> {</span>
<span id="cb6-494"><a href="#cb6-494" aria-hidden="true" tabindex="-1"></a>            <span class="dt">transition</span><span class="op">:</span> { <span class="dt">duration</span><span class="op">:</span> <span class="dv">400</span> }<span class="op">,</span></span>
<span id="cb6-495"><a href="#cb6-495" aria-hidden="true" tabindex="-1"></a>            <span class="dt">frame</span><span class="op">:</span> { <span class="dt">duration</span><span class="op">:</span> <span class="dv">800</span><span class="op">,</span> <span class="dt">redraw</span><span class="op">:</span> <span class="kw">true</span> }</span>
<span id="cb6-496"><a href="#cb6-496" aria-hidden="true" tabindex="-1"></a>          })<span class="op">;</span></span>
<span id="cb6-497"><a href="#cb6-497" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-498"><a href="#cb6-498" aria-hidden="true" tabindex="-1"></a>          index<span class="op">++;</span></span>
<span id="cb6-499"><a href="#cb6-499" aria-hidden="true" tabindex="-1"></a>          <span class="pp">setTimeout</span>(run<span class="op">,</span> <span class="dv">1100</span>)<span class="op">;</span></span>
<span id="cb6-500"><a href="#cb6-500" aria-hidden="true" tabindex="-1"></a>        }<span class="op">;</span></span>
<span id="cb6-501"><a href="#cb6-501" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-502"><a href="#cb6-502" aria-hidden="true" tabindex="-1"></a>        <span class="pp">setTimeout</span>(run<span class="op">,</span> <span class="dv">1000</span>)<span class="op">;</span></span>
<span id="cb6-503"><a href="#cb6-503" aria-hidden="true" tabindex="-1"></a>        observer<span class="op">.</span><span class="fu">unobserve</span>(entry<span class="op">.</span><span class="at">target</span>)<span class="op">;</span></span>
<span id="cb6-504"><a href="#cb6-504" aria-hidden="true" tabindex="-1"></a>      }</span>
<span id="cb6-505"><a href="#cb6-505" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb6-506"><a href="#cb6-506" aria-hidden="true" tabindex="-1"></a>  }<span class="op">,</span> { <span class="dt">threshold</span><span class="op">:</span> <span class="fl">0.4</span> })<span class="op">;</span></span>
<span id="cb6-507"><a href="#cb6-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-508"><a href="#cb6-508" aria-hidden="true" tabindex="-1"></a>  observer<span class="op">.</span><span class="fu">observe</span>(el)<span class="op">;</span></span>
<span id="cb6-509"><a href="#cb6-509" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> el<span class="op">;</span></span>
<span id="cb6-510"><a href="#cb6-510" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-6" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div id="cr-map2" class="sticky">

</div>
<div id="cr-map3" class="sticky">
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb7" data-startfrom="534" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 533;"><span id="cb7-534"><a href="#cb7-534" aria-hidden="true" tabindex="-1"></a>d3 <span class="op">=</span> <span class="pp">require</span>(<span class="st">"d3@7"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-7" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb8" data-startfrom="541" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 540;"><span id="cb8-541"><a href="#cb8-541" aria-hidden="true" tabindex="-1"></a><span class="co">// Load and parse CSV</span></span>
<span id="cb8-542"><a href="#cb8-542" aria-hidden="true" tabindex="-1"></a>geoData <span class="op">=</span> <span class="cf">await</span> d3<span class="op">.</span><span class="fu">csv</span>(<span class="st">"security_incidents.csv"</span><span class="op">,</span> d <span class="kw">=&gt;</span> ({</span>
<span id="cb8-543"><a href="#cb8-543" aria-hidden="true" tabindex="-1"></a>  <span class="dt">City</span><span class="op">:</span> d<span class="op">.</span><span class="at">City</span><span class="op">,</span></span>
<span id="cb8-544"><a href="#cb8-544" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Latitude</span><span class="op">:</span> <span class="op">+</span>d<span class="op">.</span><span class="at">Latitude</span><span class="op">,</span></span>
<span id="cb8-545"><a href="#cb8-545" aria-hidden="true" tabindex="-1"></a>  <span class="dt">Longitude</span><span class="op">:</span> <span class="op">+</span>d<span class="op">.</span><span class="at">Longitude</span></span>
<span id="cb8-546"><a href="#cb8-546" aria-hidden="true" tabindex="-1"></a>}))<span class="op">.</span><span class="fu">then</span>(data <span class="kw">=&gt;</span> data<span class="op">.</span><span class="fu">filter</span>(d <span class="kw">=&gt;</span> <span class="op">!</span><span class="pp">isNaN</span>(d<span class="op">.</span><span class="at">Latitude</span>) <span class="op">&amp;&amp;</span> <span class="op">!</span><span class="pp">isNaN</span>(d<span class="op">.</span><span class="at">Longitude</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-8" data-nodetype="declaration">

</div>
</div>
</div>
<div class="cell">
<div class="sourceCode cell-code hidden" id="cb9" data-startfrom="551" data-source-offset="0"><pre class="sourceCode js code-with-copy"><code class="sourceCode javascript" style="counter-reset: source-line 550;"><span id="cb9-551"><a href="#cb9-551" aria-hidden="true" tabindex="-1"></a>{</span>
<span id="cb9-552"><a href="#cb9-552" aria-hidden="true" tabindex="-1"></a> </span>
<span id="cb9-553"><a href="#cb9-553" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> cityCounts <span class="op">=</span> d3<span class="op">.</span><span class="fu">rollups</span>(</span>
<span id="cb9-554"><a href="#cb9-554" aria-hidden="true" tabindex="-1"></a>    geoData<span class="op">,</span></span>
<span id="cb9-555"><a href="#cb9-555" aria-hidden="true" tabindex="-1"></a>    v <span class="kw">=&gt;</span> v<span class="op">.</span><span class="at">length</span><span class="op">,</span></span>
<span id="cb9-556"><a href="#cb9-556" aria-hidden="true" tabindex="-1"></a>    d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">City</span></span>
<span id="cb9-557"><a href="#cb9-557" aria-hidden="true" tabindex="-1"></a>  )<span class="op">.</span><span class="fu">sort</span>((a<span class="op">,</span> b) <span class="kw">=&gt;</span> d3<span class="op">.</span><span class="fu">descending</span>(a[<span class="dv">1</span>]<span class="op">,</span> b[<span class="dv">1</span>]))<span class="op">.</span><span class="fu">slice</span>(<span class="dv">0</span><span class="op">,</span> <span class="dv">5</span>)<span class="op">;</span></span>
<span id="cb9-558"><a href="#cb9-558" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-559"><a href="#cb9-559" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> top5Cities <span class="op">=</span> <span class="kw">new</span> <span class="bu">Set</span>(cityCounts<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d[<span class="dv">0</span>]))<span class="op">;</span></span>
<span id="cb9-560"><a href="#cb9-560" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-561"><a href="#cb9-561" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-562"><a href="#cb9-562" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> topCityData <span class="op">=</span> <span class="bu">Array</span><span class="op">.</span><span class="fu">from</span>(top5Cities)<span class="op">.</span><span class="fu">map</span>(city <span class="kw">=&gt;</span> {</span>
<span id="cb9-563"><a href="#cb9-563" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> rows <span class="op">=</span> geoData<span class="op">.</span><span class="fu">filter</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">City</span> <span class="op">===</span> city)<span class="op">;</span></span>
<span id="cb9-564"><a href="#cb9-564" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> count <span class="op">=</span> rows<span class="op">.</span><span class="at">length</span><span class="op">;</span></span>
<span id="cb9-565"><a href="#cb9-565" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> lat <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(rows<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">Latitude</span>)<span class="op">;</span></span>
<span id="cb9-566"><a href="#cb9-566" aria-hidden="true" tabindex="-1"></a>    <span class="kw">const</span> lon <span class="op">=</span> d3<span class="op">.</span><span class="fu">mean</span>(rows<span class="op">,</span> d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">Longitude</span>)<span class="op">;</span></span>
<span id="cb9-567"><a href="#cb9-567" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> { city<span class="op">,</span> count<span class="op">,</span> lat<span class="op">,</span> lon }<span class="op">;</span></span>
<span id="cb9-568"><a href="#cb9-568" aria-hidden="true" tabindex="-1"></a>  })<span class="op">;</span></span>
<span id="cb9-569"><a href="#cb9-569" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-570"><a href="#cb9-570" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb9-571"><a href="#cb9-571" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> data <span class="op">=</span> [{</span>
<span id="cb9-572"><a href="#cb9-572" aria-hidden="true" tabindex="-1"></a>    <span class="dt">type</span><span class="op">:</span> <span class="st">"scattergeo"</span><span class="op">,</span></span>
<span id="cb9-573"><a href="#cb9-573" aria-hidden="true" tabindex="-1"></a>    <span class="dt">mode</span><span class="op">:</span> <span class="st">"markers+text"</span><span class="op">,</span></span>
<span id="cb9-574"><a href="#cb9-574" aria-hidden="true" tabindex="-1"></a>    <span class="dt">text</span><span class="op">:</span> topCityData<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> <span class="vs">`</span><span class="sc">${</span>d<span class="op">.</span><span class="at">city</span><span class="sc">}</span><span class="vs">: </span><span class="sc">${</span>d<span class="op">.</span><span class="at">count</span><span class="sc">}</span><span class="vs"> incidents`</span>)<span class="op">,</span></span>
<span id="cb9-575"><a href="#cb9-575" aria-hidden="true" tabindex="-1"></a>    <span class="dt">hovertemplate</span><span class="op">:</span> <span class="st">"&lt;b&gt;%{text}&lt;/b&gt;&lt;extra&gt;&lt;/extra&gt;"</span><span class="op">,</span></span>
<span id="cb9-576"><a href="#cb9-576" aria-hidden="true" tabindex="-1"></a>    <span class="dt">lon</span><span class="op">:</span> topCityData<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">lon</span>)<span class="op">,</span></span>
<span id="cb9-577"><a href="#cb9-577" aria-hidden="true" tabindex="-1"></a>    <span class="dt">lat</span><span class="op">:</span> topCityData<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> d<span class="op">.</span><span class="at">lat</span>)<span class="op">,</span></span>
<span id="cb9-578"><a href="#cb9-578" aria-hidden="true" tabindex="-1"></a>    <span class="dt">marker</span><span class="op">:</span> {</span>
<span id="cb9-579"><a href="#cb9-579" aria-hidden="true" tabindex="-1"></a>      <span class="dt">size</span><span class="op">:</span> topCityData<span class="op">.</span><span class="fu">map</span>(d <span class="kw">=&gt;</span> <span class="bu">Math</span><span class="op">.</span><span class="fu">sqrt</span>(d<span class="op">.</span><span class="at">count</span>) <span class="op">*</span> <span class="dv">3</span>)<span class="op">,</span> </span>
<span id="cb9-580"><a href="#cb9-580" aria-hidden="true" tabindex="-1"></a>      <span class="dt">color</span><span class="op">:</span> <span class="st">"#ef4444"</span><span class="op">,</span></span>
<span id="cb9-581"><a href="#cb9-581" aria-hidden="true" tabindex="-1"></a>      <span class="dt">opacity</span><span class="op">:</span> <span class="fl">0.7</span><span class="op">,</span></span>
<span id="cb9-582"><a href="#cb9-582" aria-hidden="true" tabindex="-1"></a>      <span class="dt">line</span><span class="op">:</span> { <span class="dt">width</span><span class="op">:</span> <span class="dv">1</span><span class="op">,</span> <span class="dt">color</span><span class="op">:</span> <span class="st">"#fff"</span> }</span>
<span id="cb9-583"><a href="#cb9-583" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb9-584"><a href="#cb9-584" aria-hidden="true" tabindex="-1"></a>  }]<span class="op">;</span></span>
<span id="cb9-585"><a href="#cb9-585" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-586"><a href="#cb9-586" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> layout <span class="op">=</span> {</span>
<span id="cb9-587"><a href="#cb9-587" aria-hidden="true" tabindex="-1"></a>    <span class="dt">title</span><span class="op">:</span> {</span>
<span id="cb9-588"><a href="#cb9-588" aria-hidden="true" tabindex="-1"></a>      <span class="dt">text</span><span class="op">:</span> <span class="st">"Top 5 Deadliest Cities for Aid Workers"</span><span class="op">,</span></span>
<span id="cb9-589"><a href="#cb9-589" aria-hidden="true" tabindex="-1"></a>      <span class="dt">font</span><span class="op">:</span> { <span class="dt">size</span><span class="op">:</span> <span class="dv">22</span> }</span>
<span id="cb9-590"><a href="#cb9-590" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb9-591"><a href="#cb9-591" aria-hidden="true" tabindex="-1"></a>    <span class="dt">geo</span><span class="op">:</span> {</span>
<span id="cb9-592"><a href="#cb9-592" aria-hidden="true" tabindex="-1"></a>      <span class="dt">showframe</span><span class="op">:</span> <span class="kw">false</span><span class="op">,</span></span>
<span id="cb9-593"><a href="#cb9-593" aria-hidden="true" tabindex="-1"></a>      <span class="dt">showcoastlines</span><span class="op">:</span> <span class="kw">true</span><span class="op">,</span></span>
<span id="cb9-594"><a href="#cb9-594" aria-hidden="true" tabindex="-1"></a>      <span class="dt">projection</span><span class="op">:</span> { <span class="dt">type</span><span class="op">:</span> <span class="st">"natural earth"</span> }<span class="op">,</span></span>
<span id="cb9-595"><a href="#cb9-595" aria-hidden="true" tabindex="-1"></a>      <span class="dt">bgcolor</span><span class="op">:</span> <span class="st">"#f0faff"</span></span>
<span id="cb9-596"><a href="#cb9-596" aria-hidden="true" tabindex="-1"></a>    }<span class="op">,</span></span>
<span id="cb9-597"><a href="#cb9-597" aria-hidden="true" tabindex="-1"></a>    <span class="dt">paper_bgcolor</span><span class="op">:</span> <span class="st">"#f0faff"</span><span class="op">,</span></span>
<span id="cb9-598"><a href="#cb9-598" aria-hidden="true" tabindex="-1"></a>    <span class="dt">margin</span><span class="op">:</span> { <span class="dt">t</span><span class="op">:</span> <span class="dv">60</span><span class="op">,</span> <span class="dt">b</span><span class="op">:</span> <span class="dv">20</span><span class="op">,</span> <span class="dt">l</span><span class="op">:</span> <span class="dv">10</span><span class="op">,</span> <span class="dt">r</span><span class="op">:</span> <span class="dv">10</span> }</span>
<span id="cb9-599"><a href="#cb9-599" aria-hidden="true" tabindex="-1"></a>  }<span class="op">;</span></span>
<span id="cb9-600"><a href="#cb9-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb9-601"><a href="#cb9-601" aria-hidden="true" tabindex="-1"></a>  <span class="kw">const</span> el <span class="op">=</span> DOM<span class="op">.</span><span class="fu">element</span>(<span class="st">"div"</span>)<span class="op">;</span></span>
<span id="cb9-602"><a href="#cb9-602" aria-hidden="true" tabindex="-1"></a>  Plotly<span class="op">.</span><span class="fu">newPlot</span>(el<span class="op">,</span> data<span class="op">,</span> layout<span class="op">,</span> { <span class="dt">responsive</span><span class="op">:</span> <span class="kw">true</span> })<span class="op">;</span></span>
<span id="cb9-603"><a href="#cb9-603" aria-hidden="true" tabindex="-1"></a>  <span class="cf">return</span> el<span class="op">;</span></span>
<span id="cb9-604"><a href="#cb9-604" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-display">
<div id="ojs-cell-9" data-nodetype="expression">

</div>
</div>
</div>
</div>
<div id="cr-map3" class="sticky">

</div>
</div>
</div>
</div>
</section>
<section id="risk-responsibility-and-the-realities-of-aid" class="level2">
<h2 class="anchored" data-anchor-id="risk-responsibility-and-the-realities-of-aid">Risk, Responsibility, and the Realities of Aid</h2>
<p>This interactive dashboard has not only provided a means to explore how violence against aid workers has consistently increased between 1997 and 2025, but has also provided a deep dive of the nuance of such atrocities.</p>
<p>First, it was revealed a disturbing rise in global incidents over time, with sharp spikes in recent years that coincide with escalating conflicts and deteriorating security in many humanitarian hotspots. By linking this finding to certain global events, we were able to understand how these events may have increased due to the need for humanitarian reliefs during those times and the particular trends associated with those key events.</p>
<p>Next, through this analysis, a deeply unequal reality of the violence that national humanitarian staff face as compared to international aid workers. This insights highlighted the need for better support national aid workers who carry the brunt of national crises. While international workers are often protected by diplomatic status or security resources, their national colleagues who live in these affected communities face daily threats with far less protection.</p>
<p>It was was also crucial to understand the means by which thoses incidents are carried out. From shootings and kidnappings to assaults and aerial bombardments, the top 5 means of violence against humanitarians. By identifying those methods of terror, humanitarian organization can provide their volunteers with the proper resources to protect themselves.</p>
<p>Finally, identifying the countries who have resulted in the highest numbers of violent incidents against aid workers provided crucial information for humanitarian relief purposes. Although those countries may be the ones to need the highest support, this insight can help prepare humanitarians with the proper resources as they rush to the aid of at risk communities. For example, the aftermath of the 2010 earthquake in Haiti was followed by an increase of violence against aid workers and has been has been identified as one of deadliest countries. Howerver, the dataset presented some data gaps which may be an issue for reliable data analysis.</p>
<p>Behind every point on this interactive dashboard is a person: a health worker, a driver, a translator, a water technician which makes those every incident every more important. Understanding these patterns is not just a matter of analysis but also morally imperative. This dashboard is a useful resource as a guide to allocate protection, prioritize mental health and aftercare, demand accountability for perpetrators, and challenge the systems that treat local staff as disposable.</p>
<p>As the humanitarian landscape continues to shift and is shaped by politics, climate, and conflict so too must our tools for protecting those who sustain it. The risks are real, the responsibilities are ours, and the time for action is now.</p>


<!-- -->


</section>

<div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">References</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-hansen2007securing" class="csl-entry" role="listitem">
Hansen, Greg. 2007. <span>“<span>‘Coming to Terms with the Human Cost of War’</span>: Securing the Humanitarian Space in Iraq.”</span> <em>Humanitarian Exchange Magazine</em>, no. 37. <a href="https://odihpn.org/magazine/coming-to-terms-with-the-human-cost-of-war-securing-the-humanitarian-space-in-iraq/">https://odihpn.org/magazine/coming-to-terms-with-the-human-cost-of-war-securing-the-humanitarian-space-in-iraq/</a>.
</div>
<div id="ref-aidworkersecurity2011" class="csl-entry" role="listitem">
Humanitarian Outcomes. 2011. <span>“Aid Worker Security Report 2011.”</span> <a href="https://www.aidworkersecurity.org/sites/default/files/2020-08/AidWorkerSecurityReport2011.pdf">https://www.aidworkersecurity.org/sites/default/files/2020-08/AidWorkerSecurityReport2011.pdf</a>.
</div>
<div id="ref-aidworkersecurity2014" class="csl-entry" role="listitem">
———. 2014. <span>“Aid Worker Security Report 2014: Unsafe Passage: Road Attacks and Their Impact on Humanitarian Operations.”</span> <a href="https://www.aidworkersecurity.org/reports">https://www.aidworkersecurity.org/reports</a>.
</div>
<div id="ref-awsd" class="csl-entry" role="listitem">
———. 2024. <span>“Aid Worker Security Database (AWSD).”</span> <a href="https://aidworkersecurity.org">https://aidworkersecurity.org</a>.
</div>
</div></section></div></main> <!-- /main -->
<script type="ojs-module-contents">
eyJjb250ZW50cyI6W3sibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtMSIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IlxuaW5jaWRlbnRzID1kMy5jc3YoXCJzZWN1cml0eV9pbmNpZGVudHMuY3N2XCIsIGQgPT4gKHtcbiAgWWVhcjogK2RbXCJZZWFyXCJdIH0pKVxuXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTIiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ7XG5cbiAgY29uc3QgeWVhckNvdW50cyA9IGluY2lkZW50cy5yZWR1Y2UoKGFjYywgcm93KSA9PiB7XG4gICAgaWYgKCFpc05hTihyb3cuWWVhcikpIHtcbiAgICAgIGFjY1tyb3cuWWVhcl0gPSAoYWNjW3Jvdy5ZZWFyXSB8fCAwKSArIDE7XG4gICAgfVxuICAgIHJldHVybiBhY2M7XG4gIH0sIHt9KTtcblxuICBjb25zdCBzb3J0ZWRZZWFycyA9IE9iamVjdC5rZXlzKHllYXJDb3VudHMpLm1hcChOdW1iZXIpLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgY29uc3QgY291bnRzID0gc29ydGVkWWVhcnMubWFwKHllYXIgPT4geWVhckNvdW50c1t5ZWFyXSk7XG5cblxuICBjb25zdCBkZWx0YXMgPSBjb3VudHMubWFwKChjLCBpKSA9PiBjIC0gKGNvdW50c1tpIC0gMV0gfHwgMCkpO1xuICBjb25zdCBtYXJrZXJDb2xvcnMgPSBkZWx0YXMubWFwKGQgPT4gZCA+PSAwID8gXCIjM2I4MmY2XCIgOiBcIiNmODcxNzFcIik7XG4gIGNvbnN0IG1hcmtlclN5bWJvbHMgPSBkZWx0YXMubWFwKGQgPT4gZCA+PSAxMDAgPyBcInN0YXJcIiA6IFwiY2lyY2xlXCIpO1xuXG5cbiAgY29uc3QgdHJhY2UgPSB7XG4gICAgeDogc29ydGVkWWVhcnMsXG4gICAgeTogY291bnRzLFxuICAgIHR5cGU6IFwic2NhdHRlclwiLFxuICAgIG1vZGU6IFwibGluZXMrbWFya2Vyc1wiLFxuICAgIG5hbWU6IFwiSW5jaWRlbnRzXCIsXG4gICAgbGluZToge1xuICAgICAgY29sb3I6IFwiIzNiODJmNlwiLFxuICAgICAgd2lkdGg6IDNcbiAgICB9LFxuICAgIG1hcmtlcjoge1xuICAgICAgc2l6ZTogOCxcbiAgICAgIGNvbG9yOiBtYXJrZXJDb2xvcnMsXG4gICAgICBzeW1ib2w6IG1hcmtlclN5bWJvbHMsXG4gICAgICBsaW5lOiB7IHdpZHRoOiAxLCBjb2xvcjogXCIjMWU0MGFmXCIgfVxuICAgIH0sXG4gICAgaG92ZXJ0ZW1wbGF0ZTpcbiAgICAgIGA8Yj4le3l9PC9iPiBpbmNpZGVudHM8YnI+YCArXG4gICAgICBgWWVhcjogPGI+JXt4fTwvYj48YnI+YCArXG4gICAgICBgzpQgZnJvbSBwcmV2OiAle2N1c3RvbWRhdGF9IDxleHRyYT48L2V4dHJhPmAsXG4gICAgY3VzdG9tZGF0YTogZGVsdGFzXG4gIH07XG5cbiAgY29uc3QgbGF5b3V0ID0ge1xuICAgIHRpdGxlOiB7XG4gICAgICB0ZXh0OiBcIkEgUmlzaW5nIFRocmVhdDogR2xvYmFsIFBhdHRlcm5zIG9mIEF0dGFja3Mgb24gQWlkIFdvcmtlcnMgKDE5OTfigJNQcmVzZW50KVwiLFxuICAgICAgZm9udDogeyBzaXplOiAxNSwgZmFtaWx5OiBcIkFyaWFsLCBzYW5zLXNlcmlmXCIgfVxuICAgIH0sXG4gICAgcGFwZXJfYmdjb2xvcjogXCIjZjBmYWZmXCIsXG4gICAgcGxvdF9iZ2NvbG9yOiBcIiNmZmZmZmZcIixcbiAgICBkcmFnbW9kZTogXCJ6b29tXCIsIFxuICAgIHhheGlzOiB7XG4gICAgICB0aXRsZTogXCJZZWFyXCIsXG4gICAgICBncmlkY29sb3I6IFwiI2RiZWFmZVwiLFxuICAgICAgemVyb2xpbmU6IGZhbHNlLFxuICAgICAgcmFuZ2VzbGlkZXI6IHsgdmlzaWJsZTogZmFsc2UgfSwgXG4gICAgfSxcbiAgICB5YXhpczoge1xuICAgICAgdGl0bGU6IFwiTnVtYmVyIG9mIEluY2lkZW50c1wiLFxuICAgICAgZ3JpZGNvbG9yOiBcIiNkYmVhZmVcIixcbiAgICAgIHplcm9saW5lOiBmYWxzZVxuICAgIH0sXG4gICAgbGVnZW5kOiB7XG4gICAgICBiZ2NvbG9yOiBcIiNmZmZmZmZcIixcbiAgICAgIGJvcmRlcmNvbG9yOiBcIiNjY2NcIixcbiAgICAgIGJvcmRlcndpZHRoOiAxXG4gICAgfSxcbiAgICBob3Zlcm1vZGU6IFwieCB1bmlmaWVkXCIsXG4gICAgbWFyZ2luOiB7IHQ6IDYwLCBsOiA2MCwgcjogMzAsIGI6IDYwIH0sXG4gICAgYW5ub3RhdGlvbnM6IFtcbiAgICAgIHtcbiAgICAgICAgeDogMjAwMyxcbiAgICAgICAgeTogeWVhckNvdW50c1syMDAzXSxcbiAgICAgICAgdGV4dDogXCJJcmFxIEludmFzaW9uXCIsXG4gICAgICAgIHNob3dhcnJvdzogdHJ1ZSxcbiAgICAgICAgYXJyb3doZWFkOiA2LFxuICAgICAgICBheDogLTQwLFxuICAgICAgICBheTogLTQwLFxuICAgICAgICBiZ2NvbG9yOiBcInJnYmEoMjU1LDI1NSwyNTUsMC45KVwiLFxuICAgICAgICBib3JkZXJjb2xvcjogXCIjM2I4MmY2XCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHg6IDIwMTAsXG4gICAgICAgIHk6IHllYXJDb3VudHNbMjAxMF0sXG4gICAgICAgIHRleHQ6IFwiSGFpdGkgRWFydGhxdWFrZVwiLFxuICAgICAgICBzaG93YXJyb3c6IHRydWUsXG4gICAgICAgIGFycm93aGVhZDogNixcbiAgICAgICAgYXg6IDMwLFxuICAgICAgICBheTogLTUwLFxuICAgICAgICBiZ2NvbG9yOiBcInJnYmEoMjU1LDI1NSwyNTUsMC45KVwiLFxuICAgICAgICBib3JkZXJjb2xvcjogXCIjZjU5ZTBiXCIsXG4gICAgICAgIFxuICAgICAgfSxcbiAgICAgICAge1xuICAgICAgICB4OiAyMDIwLFxuICAgICAgICB5OiB5ZWFyQ291bnRzWzIwMjBdLFxuICAgICAgICB0ZXh0OiBcIkNPVklELTE5IFBhbmRlbWljXCIsXG4gICAgICAgIHNob3dhcnJvdzogdHJ1ZSxcbiAgICAgICAgYXJyb3doZWFkOiA2LFxuICAgICAgICBheDogMzAsXG4gICAgICAgIGF5OiAtNTAsXG4gICAgICAgIGJnY29sb3I6IFwicmdiYSgyNTUsMjU1LDI1NSwwLjkpXCIsXG4gICAgICAgIGJvcmRlcmNvbG9yOiBcIiNmNTllMGJcIixcbiAgICAgICAgXG4gICAgICB9XG4gICAgXSxcbiAgICBzaGFwZXM6IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJyZWN0XCIsXG4gICAgICAgIHhyZWY6IFwieFwiLFxuICAgICAgICB5cmVmOiBcInBhcGVyXCIsXG4gICAgICAgIHgwOiAyMDEwLFxuICAgICAgICB4MTogMjAxNSxcbiAgICAgICAgeTA6IDAsXG4gICAgICAgIHkxOiAxLFxuICAgICAgICBmaWxsY29sb3I6IFwicmdiYSg1OSwxMzAsMjQ2LDAuMDUpXCIsXG4gICAgICAgIGxpbmU6IHsgd2lkdGg6IDAgfVxuICAgICAgfVxuICAgIF1cbiAgfTtcblxuXG4gIGNvbnN0IGNvbmZpZyA9IHtcbiAgICByZXNwb25zaXZlOiB0cnVlLFxuICAgIGRpc3BsYXlNb2RlQmFyOiBmYWxzZVxuICB9O1xuXG4gIGNvbnN0IGVsID0gRE9NLmVsZW1lbnQoXCJkaXZcIik7XG4gIHdpbmRvdy5pbmNpZGVudENoYXJ0ID0gZWw7XG4gIFBsb3RseS5uZXdQbG90KGVsLCBbdHJhY2VdLCBsYXlvdXQsIGNvbmZpZyk7XG4gIHJldHVybiBlbDtcbn1cblxuXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTMiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJcbi8vfCBhc3luYzogdHJ1ZVxuaW5jaWRlbnRzMiA9IGF3YWl0IGQzLmNzdihcInNlY3VyaXR5X2luY2lkZW50cy5jc3ZcIiwgZCA9PiAoe1xuICBZZWFyOiArZFtcIlllYXJcIl0sXG4gIE5hdGlvbmFsczogK2RbXCJUb3RhbCBuYXRpb25hbHNcIl0sXG4gIEludGVybmF0aW9uYWxzOiArZFtcIlRvdGFsIGludGVybmF0aW9uYWxzXCJdXG59KSlcblxuXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTQiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ7XG4gIGNvbnN0IHllYXJseVN1bXMgPSB7fTtcblxuICBmb3IgKGNvbnN0IHJvdyBvZiBpbmNpZGVudHMyKSB7XG4gICAgaWYgKCFpc05hTihyb3cuWWVhcikpIHtcbiAgICAgIGlmICgheWVhcmx5U3Vtc1tyb3cuWWVhcl0pIHtcbiAgICAgICAgeWVhcmx5U3Vtc1tyb3cuWWVhcl0gPSB7IG5hdGlvbmFsczogMCwgaW50ZXJuYXRpb25hbHM6IDAgfTtcbiAgICAgIH1cbiAgICAgIHllYXJseVN1bXNbcm93LlllYXJdLm5hdGlvbmFscyArPSArcm93Lk5hdGlvbmFscyB8fCAwO1xuICAgICAgeWVhcmx5U3Vtc1tyb3cuWWVhcl0uaW50ZXJuYXRpb25hbHMgKz0gK3Jvdy5JbnRlcm5hdGlvbmFscyB8fCAwO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHNvcnRlZFllYXJzID0gT2JqZWN0LmtleXMoeWVhcmx5U3VtcykubWFwKE51bWJlcikuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICBjb25zdCBuYXRpb25hbHMgPSBzb3J0ZWRZZWFycy5tYXAoeWVhciA9PiB5ZWFybHlTdW1zW3llYXJdLm5hdGlvbmFscyk7XG4gIGNvbnN0IGludGVybmF0aW9uYWxzID0gc29ydGVkWWVhcnMubWFwKHllYXIgPT4geWVhcmx5U3Vtc1t5ZWFyXS5pbnRlcm5hdGlvbmFscyk7XG5cbiAgY29uc3QgZGVsdGFOYXRpb25hbHMgPSBuYXRpb25hbHMubWFwKCh2LCBpKSA9PiB2IC0gKG5hdGlvbmFsc1tpIC0gMV0gfHwgMCkpO1xuICBjb25zdCBkZWx0YUludGVybmF0aW9uYWxzID0gaW50ZXJuYXRpb25hbHMubWFwKCh2LCBpKSA9PiB2IC0gKGludGVybmF0aW9uYWxzW2kgLSAxXSB8fCAwKSk7XG5cbiAgY29uc3QgdHJhY2VzID0gW1xuICAgIHtcbiAgICAgIHg6IHNvcnRlZFllYXJzLFxuICAgICAgeTogbmF0aW9uYWxzLFxuICAgICAgbmFtZTogXCJOYXRpb25hbHNcIixcbiAgICAgIHR5cGU6IFwic2NhdHRlclwiLFxuICAgICAgbW9kZTogXCJsaW5lcyttYXJrZXJzXCIsXG4gICAgICBtYXJrZXI6IHtcbiAgICAgICAgY29sb3I6IFwiIzI1NjNlYlwiLFxuICAgICAgICBzeW1ib2w6IFwiY2lyY2xlXCIsXG4gICAgICAgIHNpemU6IDdcbiAgICAgIH0sXG4gICAgICBsaW5lOiB7XG4gICAgICAgIGNvbG9yOiBcIiMyNTYzZWJcIixcbiAgICAgICAgd2lkdGg6IDNcbiAgICAgIH0sXG4gICAgICBob3ZlcnRlbXBsYXRlOlxuICAgICAgICBcIjxiPiV7eX08L2I+IG5hdGlvbmFsIHN0YWZmPGJyPlwiICtcbiAgICAgICAgXCJZZWFyOiA8Yj4le3h9PC9iPjxicj5cIiArXG4gICAgICAgIFwiQ2hhbmdlIGZyb20gcHJldmlvdXM6IDxiPiV7Y3VzdG9tZGF0YTorfTwvYj48ZXh0cmE+PC9leHRyYT5cIixcbiAgICAgIGN1c3RvbWRhdGE6IGRlbHRhTmF0aW9uYWxzXG4gICAgfSxcbiAgICB7XG4gICAgICB4OiBzb3J0ZWRZZWFycyxcbiAgICAgIHk6IGludGVybmF0aW9uYWxzLFxuICAgICAgbmFtZTogXCJJbnRlcm5hdGlvbmFsc1wiLFxuICAgICAgdHlwZTogXCJzY2F0dGVyXCIsXG4gICAgICBtb2RlOiBcImxpbmVzK21hcmtlcnNcIixcbiAgICAgIG1hcmtlcjoge1xuICAgICAgICBjb2xvcjogXCIjZWE1ODBjXCIsXG4gICAgICAgIHN5bWJvbDogXCJkaWFtb25kXCIsXG4gICAgICAgIHNpemU6IDdcbiAgICAgIH0sXG4gICAgICBsaW5lOiB7XG4gICAgICAgIGNvbG9yOiBcIiNlYTU4MGNcIixcbiAgICAgICAgd2lkdGg6IDMsXG4gICAgICAgIGRhc2g6IFwiZG90XCJcbiAgICAgIH0sXG4gICAgICBob3ZlcnRlbXBsYXRlOlxuICAgICAgICBcIjxiPiV7eX08L2I+IGludGVybmF0aW9uYWwgc3RhZmY8YnI+XCIgK1xuICAgICAgICBcIlllYXI6IDxiPiV7eH08L2I+PGJyPlwiICtcbiAgICAgICAgXCJDaGFuZ2UgZnJvbSBwcmV2aW91czogPGI+JXtjdXN0b21kYXRhOit9PC9iPjxleHRyYT48L2V4dHJhPlwiLFxuICAgICAgY3VzdG9tZGF0YTogZGVsdGFJbnRlcm5hdGlvbmFsc1xuICAgIH1cbiAgXTtcblxuICBjb25zdCBsYXlvdXQgPSB7XG4gICAgdGl0bGU6IHtcbiAgICAgIHRleHQ6IFwiTmF0aW9uYWxzIHZzIEludGVybmF0aW9uYWxzOiBBaWQgV29ya2VyIEluY2lkZW50cyBPdmVyIFRpbWVcIixcbiAgICAgIGZvbnQ6IHsgc2l6ZTogMjAsIGZhbWlseTogXCJBcmlhbCwgc2Fucy1zZXJpZlwiIH1cbiAgICB9LFxuICAgIHBhcGVyX2JnY29sb3I6IFwiI2YwZmFmZlwiLFxuICAgIHBsb3RfYmdjb2xvcjogXCIjZmZmZmZmXCIsXG4gICAgeGF4aXM6IHtcbiAgICAgIHRpdGxlOiBcIlllYXJcIixcbiAgICAgIGdyaWRjb2xvcjogXCIjZGJlYWZlXCIsXG4gICAgICB6ZXJvbGluZTogZmFsc2VcbiAgICB9LFxuICAgIHlheGlzOiB7XG4gICAgICB0aXRsZTogXCJOdW1iZXIgb2YgSW5jaWRlbnRzXCIsXG4gICAgICBncmlkY29sb3I6IFwiI2RiZWFmZVwiLFxuICAgICAgemVyb2xpbmU6IGZhbHNlXG4gICAgfSxcbiAgICBob3Zlcm1vZGU6IFwieCB1bmlmaWVkXCIsXG4gICAgbGVnZW5kOiB7XG4gICAgICBiZ2NvbG9yOiBcIiNmZmZmZmZcIixcbiAgICAgIGJvcmRlcmNvbG9yOiBcIiNjY2NcIixcbiAgICAgIGJvcmRlcndpZHRoOiAxXG4gICAgfSxcbiAgICBhbm5vdGF0aW9uczogW1xuICAgICAge1xuICAgICAgICB4OiAyMDEzLFxuICAgICAgICB5OiBuYXRpb25hbHNbc29ydGVkWWVhcnMuaW5kZXhPZigyMDEzKV0sXG4gICAgICAgIHRleHQ6IFwiRmlyc3QgTmF0LiBQZWFrXCIsXG4gICAgICAgIHNob3dhcnJvdzogdHJ1ZSxcbiAgICAgICAgYXJyb3doZWFkOiA2LFxuICAgICAgICBheDogLTYwLFxuICAgICAgICBheTogLTQwLFxuICAgICAgICBiZ2NvbG9yOiBcIiNmZmZmZmZcIixcbiAgICAgICAgYm9yZGVyY29sb3I6IFwiIzI1NjNlYlwiXG4gICAgICB9LFxuICAgICAgICAge1xuICAgICAgICB4OiAyMDI0LFxuICAgICAgICB5OiBuYXRpb25hbHNbc29ydGVkWWVhcnMuaW5kZXhPZigyMDI0KV0sXG4gICAgICAgIHRleHQ6IFwiSGlnaGVzdCBOYXQuIFBlYWtcIixcbiAgICAgICAgc2hvd2Fycm93OiB0cnVlLFxuICAgICAgICBhcnJvd2hlYWQ6IDYsXG4gICAgICAgIGF4OiAtNjAsXG4gICAgICAgIGF5OiAtNDAsXG4gICAgICAgIGJnY29sb3I6IFwiI2ZmZmZmZlwiLFxuICAgICAgICBib3JkZXJjb2xvcjogXCIjMjU2M2ViXCJcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHg6IDIwMDksXG4gICAgICAgIHk6IGludGVybmF0aW9uYWxzW3NvcnRlZFllYXJzLmluZGV4T2YoMjAwOSldLFxuICAgICAgICB0ZXh0OiBcIkhpZ2hlc3QgSW50LiBQZWFrXCIsXG4gICAgICAgIHNob3dhcnJvdzogdHJ1ZSxcbiAgICAgICAgYXJyb3doZWFkOiA2LFxuICAgICAgICBheDogMzAsXG4gICAgICAgIGF5OiAtNTAsXG4gICAgICAgIGJnY29sb3I6IFwiI2ZmZmZmZlwiLFxuICAgICAgICBib3JkZXJjb2xvcjogXCIjZWE1ODBjXCJcbiAgICAgIH1cbiAgICBdLFxuICAgIG1hcmdpbjogeyB0OiA2MCwgbDogNjAsIHI6IDMwLCBiOiA2MCB9XG4gIH07XG5cbiAgY29uc3QgZWwgPSBET00uZWxlbWVudChcImRpdlwiKTtcbiAgUGxvdGx5Lm5ld1Bsb3QoZWwsIHRyYWNlcywgbGF5b3V0LCB7IHJlc3BvbnNpdmU6IHRydWUgfSk7XG4gIHJldHVybiBlbDtcbn1cblxuXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTUiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJcbmF0dGFja0RhdGEgPSBhd2FpdCBkMy5jc3YoXCJzZWN1cml0eV9pbmNpZGVudHMuY3N2XCIsIGQgPT4gKHtcbiAgWWVhcjogK2RbXCJZZWFyXCJdLFxuICBBdHRhY2s6IGRbXCJNZWFucyBvZiBhdHRhY2tcIl1cbn0pKS50aGVuKGRhdGEgPT4gZGF0YS5maWx0ZXIoZCA9PiAhaXNOYU4oZC5ZZWFyKSkpXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTYiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiJ7XG4gIFxuICBjb25zdCB0b3A1ID0gQXJyYXkuZnJvbShcbiAgICBkMy5yb2xsdXBzKGF0dGFja0RhdGEsIHYgPT4gdi5sZW5ndGgsIGQgPT4gZC5BdHRhY2spXG4gICAgICAuc29ydCgoYSwgYikgPT4gZDMuZGVzY2VuZGluZyhhWzFdLCBiWzFdKSlcbiAgICAgIC5zbGljZSgwLCA1KSxcbiAgICBkID0+IGRbMF1cbiAgKTtcblxuXG4gIGNvbnN0IGdyb3VwZWQgPSBkMy5yb2xsdXBzKFxuICAgIGF0dGFja0RhdGEuZmlsdGVyKGQgPT4gdG9wNS5pbmNsdWRlcyhkLkF0dGFjaykpLFxuICAgIHYgPT4gdi5sZW5ndGgsXG4gICAgZCA9PiBkLlllYXIsXG4gICAgZCA9PiBkLkF0dGFja1xuICApO1xuXG4gXG4gIGNvbnN0IGF0dGFja0J5WWVhciA9IHt9O1xuICBmb3IgKGNvbnN0IFt5ZWFyLCBlbnRyaWVzXSBvZiBncm91cGVkKSB7XG4gICAgY29uc3QgZW50cnlNYXAgPSBuZXcgTWFwKGVudHJpZXMpO1xuICAgIGF0dGFja0J5WWVhclt5ZWFyXSA9IHRvcDUubWFwKGF0dGFjayA9PiAoe1xuICAgICAgYXR0YWNrLFxuICAgICAgY291bnQ6IGVudHJ5TWFwLmdldChhdHRhY2spIHx8IDBcbiAgICB9KSk7XG4gIH1cblxuICBjb25zdCBhdHRhY2tZZWFycyA9IE9iamVjdC5rZXlzKGF0dGFja0J5WWVhcikubWFwKE51bWJlcikuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICBjb25zdCBmaXJzdFllYXIgPSBhdHRhY2tZZWFyc1swXTtcblxuICBcbiAgY29uc3QgZWwgPSBodG1sYDxkaXYgaWQ9XCJzY3JvbGwtYXR0YWNrLWNoYXJ0XCIgc3R5bGU9XCJoZWlnaHQ6IDcwMHB4O1wiPjwvZGl2PmA7XG4gIGNvbnN0IG1heFggPSBkMy5tYXgoT2JqZWN0LnZhbHVlcyhhdHRhY2tCeVllYXIpLmZsYXQoKSwgZCA9PiBkLmNvdW50KSAqIDEuMjtcblxuICBmdW5jdGlvbiBnZXRCYXJDb2xvcnMoZGF0YSkge1xuICAgIGNvbnN0IG1heENvdW50ID0gTWF0aC5tYXgoLi4uZGF0YS5tYXAoZCA9PiBkLmNvdW50KSk7XG4gICAgcmV0dXJuIGRhdGEubWFwKGQgPT4gZC5jb3VudCA9PT0gbWF4Q291bnQgJiYgZC5jb3VudCA+IDAgPyBcIiNlZjQ0NDRcIiA6IFwiIzNiODJmNlwiKTtcbiAgfVxuXG5cbiAgY29uc3QgaW5pdGlhbCA9IGF0dGFja0J5WWVhcltmaXJzdFllYXJdO1xuICBQbG90bHkubmV3UGxvdChlbCwgW3tcbiAgICB0eXBlOiBcImJhclwiLFxuICAgIG9yaWVudGF0aW9uOiBcImhcIixcbiAgICB4OiBpbml0aWFsLm1hcChkID0+IGQuY291bnQpLFxuICAgIHk6IGluaXRpYWwubWFwKGQgPT4gZC5hdHRhY2spLFxuICAgIHRleHQ6IGluaXRpYWwubWFwKGQgPT4gZC5jb3VudCksXG4gICAgdGV4dHBvc2l0aW9uOiBcImF1dG9cIixcbiAgICBtYXJrZXI6IHsgY29sb3I6IGdldEJhckNvbG9ycyhpbml0aWFsKSB9LFxuICAgIGhvdmVydGVtcGxhdGU6IFwiPGI+JXt5fTwvYj48YnI+JXt4fSBpbmNpZGVudHM8ZXh0cmE+PC9leHRyYT5cIlxuICB9XSwge1xuICAgIHRpdGxlOiB7XG4gICAgICB0ZXh0OiBgVG9wIDUgTWVhbnMgb2YgQXR0YWNrIG9uIEFpZCBXb3JrZXJzIOKAkyAke2ZpcnN0WWVhcn1gLFxuICAgICAgZm9udDogeyBzaXplOiAyMCB9XG4gICAgfSxcbiAgICBwYXBlcl9iZ2NvbG9yOiBcIiNmMGZhZmZcIixcbiAgICBwbG90X2JnY29sb3I6IFwiI2ZmZmZmZlwiLFxuICAgIG1hcmdpbjogeyB0OiA2MCwgbDogMTgwLCByOiAzMCwgYjogNjAgfSxcbiAgICB4YXhpczoge1xuICAgICAgdGl0bGU6IFwiTnVtYmVyIG9mIEluY2lkZW50c1wiLFxuICAgICAgZ3JpZGNvbG9yOiBcIiNkYmVhZmVcIixcbiAgICAgIHJhbmdlOiBbMCwgbWF4WF1cbiAgICB9LFxuICAgIHlheGlzOiB7XG4gICAgICB0aXRsZTogXCJNZWFucyBvZiBBdHRhY2tcIixcbiAgICAgIGdyaWRjb2xvcjogXCIjZGJlYWZlXCIsXG4gICAgICBhdXRvcmFuZ2U6IFwicmV2ZXJzZWRcIlxuICAgIH0sXG4gICAgYmFyZ2FwOiAwLjVcbiAgfSwgeyByZXNwb25zaXZlOiB0cnVlIH0pO1xuXG4gIGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChlbnRyaWVzKSA9PiB7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBlbnRyaWVzKSB7XG4gICAgICBpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcbiAgICAgICAgbGV0IGluZGV4ID0gMTtcbiAgICAgICAgY29uc3QgcnVuID0gKCkgPT4ge1xuICAgICAgICAgIGlmIChpbmRleCA+PSBhdHRhY2tZZWFycy5sZW5ndGgpIHJldHVybjtcblxuICAgICAgICAgIGNvbnN0IHllYXIgPSBhdHRhY2tZZWFyc1tpbmRleF07XG4gICAgICAgICAgY29uc3QgZGF0YSA9IGF0dGFja0J5WWVhclt5ZWFyXTtcblxuICAgICAgICAgIFBsb3RseS5hbmltYXRlKGVsLCB7XG4gICAgICAgICAgICBkYXRhOiBbe1xuICAgICAgICAgICAgICB4OiBkYXRhLm1hcChkID0+IGQuY291bnQpLFxuICAgICAgICAgICAgICB5OiBkYXRhLm1hcChkID0+IGQuYXR0YWNrKSxcbiAgICAgICAgICAgICAgdGV4dDogZGF0YS5tYXAoZCA9PiBkLmNvdW50KSxcbiAgICAgICAgICAgICAgbWFya2VyOiB7IGNvbG9yOiBnZXRCYXJDb2xvcnMoZGF0YSkgfVxuICAgICAgICAgICAgfV0sXG4gICAgICAgICAgICBsYXlvdXQ6IHsgdGl0bGU6IGBUb3AgNSBNZWFucyBvZiBBdHRhY2sgb24gQWlkIFdvcmtlcnMg4oCTICR7eWVhcn1gIH1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICB0cmFuc2l0aW9uOiB7IGR1cmF0aW9uOiA0MDAgfSxcbiAgICAgICAgICAgIGZyYW1lOiB7IGR1cmF0aW9uOiA4MDAsIHJlZHJhdzogdHJ1ZSB9XG4gICAgICAgICAgfSk7XG5cbiAgICAgICAgICBpbmRleCsrO1xuICAgICAgICAgIHNldFRpbWVvdXQocnVuLCAxMTAwKTtcbiAgICAgICAgfTtcblxuICAgICAgICBzZXRUaW1lb3V0KHJ1biwgMTAwMCk7XG4gICAgICAgIG9ic2VydmVyLnVub2JzZXJ2ZShlbnRyeS50YXJnZXQpO1xuICAgICAgfVxuICAgIH1cbiAgfSwgeyB0aHJlc2hvbGQ6IDAuNCB9KTtcblxuICBvYnNlcnZlci5vYnNlcnZlKGVsKTtcbiAgcmV0dXJuIGVsO1xufVxuXG5cbiJ9LHsibWV0aG9kTmFtZSI6ImludGVycHJldCIsImNlbGxOYW1lIjoib2pzLWNlbGwtNyIsImlubGluZSI6ZmFsc2UsInNvdXJjZSI6IlxuZDMgPSByZXF1aXJlKFwiZDNAN1wiKVxuXG4ifSx7Im1ldGhvZE5hbWUiOiJpbnRlcnByZXQiLCJjZWxsTmFtZSI6Im9qcy1jZWxsLTgiLCJpbmxpbmUiOmZhbHNlLCJzb3VyY2UiOiIvLyBMb2FkIGFuZCBwYXJzZSBDU1Zcbmdlb0RhdGEgPSBhd2FpdCBkMy5jc3YoXCJzZWN1cml0eV9pbmNpZGVudHMuY3N2XCIsIGQgPT4gKHtcbiAgQ2l0eTogZC5DaXR5LFxuICBMYXRpdHVkZTogK2QuTGF0aXR1ZGUsXG4gIExvbmdpdHVkZTogK2QuTG9uZ2l0dWRlXG59KSkudGhlbihkYXRhID0+IGRhdGEuZmlsdGVyKGQgPT4gIWlzTmFOKGQuTGF0aXR1ZGUpICYmICFpc05hTihkLkxvbmdpdHVkZSkpKVxuIn0seyJtZXRob2ROYW1lIjoiaW50ZXJwcmV0IiwiY2VsbE5hbWUiOiJvanMtY2VsbC05IiwiaW5saW5lIjpmYWxzZSwic291cmNlIjoie1xuIFxuICBjb25zdCBjaXR5Q291bnRzID0gZDMucm9sbHVwcyhcbiAgICBnZW9EYXRhLFxuICAgIHYgPT4gdi5sZW5ndGgsXG4gICAgZCA9PiBkLkNpdHlcbiAgKS5zb3J0KChhLCBiKSA9PiBkMy5kZXNjZW5kaW5nKGFbMV0sIGJbMV0pKS5zbGljZSgwLCA1KTtcblxuICBjb25zdCB0b3A1Q2l0aWVzID0gbmV3IFNldChjaXR5Q291bnRzLm1hcChkID0+IGRbMF0pKTtcblxuICBcbiAgY29uc3QgdG9wQ2l0eURhdGEgPSBBcnJheS5mcm9tKHRvcDVDaXRpZXMpLm1hcChjaXR5ID0+IHtcbiAgICBjb25zdCByb3dzID0gZ2VvRGF0YS5maWx0ZXIoZCA9PiBkLkNpdHkgPT09IGNpdHkpO1xuICAgIGNvbnN0IGNvdW50ID0gcm93cy5sZW5ndGg7XG4gICAgY29uc3QgbGF0ID0gZDMubWVhbihyb3dzLCBkID0+IGQuTGF0aXR1ZGUpO1xuICAgIGNvbnN0IGxvbiA9IGQzLm1lYW4ocm93cywgZCA9PiBkLkxvbmdpdHVkZSk7XG4gICAgcmV0dXJuIHsgY2l0eSwgY291bnQsIGxhdCwgbG9uIH07XG4gIH0pO1xuXG4gIFxuICBjb25zdCBkYXRhID0gW3tcbiAgICB0eXBlOiBcInNjYXR0ZXJnZW9cIixcbiAgICBtb2RlOiBcIm1hcmtlcnMrdGV4dFwiLFxuICAgIHRleHQ6IHRvcENpdHlEYXRhLm1hcChkID0+IGAke2QuY2l0eX06ICR7ZC5jb3VudH0gaW5jaWRlbnRzYCksXG4gICAgaG92ZXJ0ZW1wbGF0ZTogXCI8Yj4le3RleHR9PC9iPjxleHRyYT48L2V4dHJhPlwiLFxuICAgIGxvbjogdG9wQ2l0eURhdGEubWFwKGQgPT4gZC5sb24pLFxuICAgIGxhdDogdG9wQ2l0eURhdGEubWFwKGQgPT4gZC5sYXQpLFxuICAgIG1hcmtlcjoge1xuICAgICAgc2l6ZTogdG9wQ2l0eURhdGEubWFwKGQgPT4gTWF0aC5zcXJ0KGQuY291bnQpICogMyksIFxuICAgICAgY29sb3I6IFwiI2VmNDQ0NFwiLFxuICAgICAgb3BhY2l0eTogMC43LFxuICAgICAgbGluZTogeyB3aWR0aDogMSwgY29sb3I6IFwiI2ZmZlwiIH1cbiAgICB9XG4gIH1dO1xuXG4gIGNvbnN0IGxheW91dCA9IHtcbiAgICB0aXRsZToge1xuICAgICAgdGV4dDogXCJUb3AgNSBEZWFkbGllc3QgQ2l0aWVzIGZvciBBaWQgV29ya2Vyc1wiLFxuICAgICAgZm9udDogeyBzaXplOiAyMiB9XG4gICAgfSxcbiAgICBnZW86IHtcbiAgICAgIHNob3dmcmFtZTogZmFsc2UsXG4gICAgICBzaG93Y29hc3RsaW5lczogdHJ1ZSxcbiAgICAgIHByb2plY3Rpb246IHsgdHlwZTogXCJuYXR1cmFsIGVhcnRoXCIgfSxcbiAgICAgIGJnY29sb3I6IFwiI2YwZmFmZlwiXG4gICAgfSxcbiAgICBwYXBlcl9iZ2NvbG9yOiBcIiNmMGZhZmZcIixcbiAgICBtYXJnaW46IHsgdDogNjAsIGI6IDIwLCBsOiAxMCwgcjogMTAgfVxuICB9O1xuXG4gIGNvbnN0IGVsID0gRE9NLmVsZW1lbnQoXCJkaXZcIik7XG4gIFBsb3RseS5uZXdQbG90KGVsLCBkYXRhLCBsYXlvdXQsIHsgcmVzcG9uc2l2ZTogdHJ1ZSB9KTtcbiAgcmV0dXJuIGVsO1xufVxuXG5cblxuIn1dfQ==
</script>
<script type="module">
if (window.location.protocol === "file:") { alert("The OJS runtime does not work with file:// URLs. Please use a web server to view this document."); }
window._ojs.paths.runtimeToDoc = "../..";
window._ojs.paths.runtimeToRoot = "../..";
window._ojs.paths.docToRoot = "";
window._ojs.selfContained = false;
window._ojs.runtime.interpretFromScriptTags();
</script>
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
  const viewSource = window.document.getElementById('quarto-view-source') ||
                     window.document.getElementById('quarto-code-tools-source');
  if (viewSource) {
    const sourceUrl = viewSource.getAttribute("data-quarto-source-url");
    viewSource.addEventListener("click", function(e) {
      if (sourceUrl) {
        // rstudio viewer pane
        if (/\bcapabilities=\b/.test(window.location)) {
          window.open(sourceUrl);
        } else {
          window.location.href = sourceUrl;
        }
      } else {
        const modal = new bootstrap.Modal(document.getElementById('quarto-embedded-source-code-modal'));
        modal.show();
      }
      return false;
    });
  }
  function toggleCodeHandler(show) {
    return function(e) {
      const detailsSrc = window.document.querySelectorAll(".cell > details > .sourceCode");
      for (let i=0; i<detailsSrc.length; i++) {
        const details = detailsSrc[i].parentElement;
        if (show) {
          details.open = true;
        } else {
          details.removeAttribute("open");
        }
      }
      const cellCodeDivs = window.document.querySelectorAll(".cell > .sourceCode");
      const fromCls = show ? "hidden" : "unhidden";
      const toCls = show ? "unhidden" : "hidden";
      for (let i=0; i<cellCodeDivs.length; i++) {
        const codeDiv = cellCodeDivs[i];
        if (codeDiv.classList.contains(fromCls)) {
          codeDiv.classList.remove(fromCls);
          codeDiv.classList.add(toCls);
        } 
      }
      return false;
    }
  }
  const hideAllCode = window.document.getElementById("quarto-hide-all-code");
  if (hideAllCode) {
    hideAllCode.addEventListener("click", toggleCodeHandler(false));
  }
  const showAllCode = window.document.getElementById("quarto-show-all-code");
  if (showAllCode) {
    showAllCode.addEventListener("click", toggleCodeHandler(true));
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><div class="modal fade" id="quarto-embedded-source-code-modal" tabindex="-1" aria-labelledby="quarto-embedded-source-code-modal-label" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable"><div class="modal-content"><div class="modal-header"><h5 class="modal-title" id="quarto-embedded-source-code-modal-label">Source Code</h5><button class="btn-close" data-bs-dismiss="modal"></button></div><div class="modal-body"><div class="">
<div class="sourceCode" id="cb10" data-shortcodes="false"><pre class="sourceCode markdown code-with-copy"><code class="sourceCode markdown"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> "The Visual Display of Quantitative Information"</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a><span class="an">author:</span><span class="co"> Edward Tufte</span></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="an">format:</span><span class="co"> </span></span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a><span class="co">  closeread-html:</span></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co">    css: cr-tufte.css</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a><span class="co">    remove-header-space: true</span></span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a><span class="co">    code-tools: true</span></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co">    image: mindard-map.png</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="co">    description: Analyzing violence against aid workers</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a><span class="co">    mainfont: 'et-book, Palatino, "Palatino Linotype", "Palatino LT STD", "Book Antiqua", Georgia, serif'</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co">    cr-style:</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a><span class="co">      narrative-background-color-overlay: transparent</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="co">      narrative-background-color-sidebar: transparent</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a><span class="co">      section-background-color: transparent</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a><span class="co">      narrative-text-color-overlay: black</span></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a><span class="co">      narrative-font-family: 'et-book, Palatino, "Palatino Linotype", "Palatino LT STD", "Book Antiqua", Georgia, serif'</span></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a><span class="co">    html:</span></span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a><span class="co">    include-in-header:</span></span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="co">      - text: |</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a><span class="co">          &lt;script src="https://cdn.plot.ly/plotly-2.27.0.min.js"&gt;&lt;/script&gt;</span></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a><span class="co">    bibliography: references.bib</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a><span class="fu">## Risky Bravery: &lt;br&gt; The Human Cost of Humanitarian Work</span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>The act of giving back to at-risk communities has always been a considerable act of selflessness and recognition. As various countries around the world are often met with troubling disasters, humanitarian workers often rush to the aid to those in need. However, such acts of bravery and volunteerism come with a risk to their personal lives, as thousands of humanitarians can be harmed themselves as hey deliver food, administer vaccines, rebuild communities, and offer hope to ravaged communities. But behind the logistics and headlines lies a harder truth: their work is dangerous, and the risks they face are growing.</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>As violence against aid workers becomes more common, understanding its pattern can provide insights to those who wish to help others in times of need. By exploring the patterns of targeted attacks, kidnappings, and killings, humanitarian organizations can provide their volunteers with the proper means and information to protect themselves while coming to the aid of those facing difficult situations. Analyzing the pattern of violence against humanitarians is important because when an aid worker is harmed, food does not reach the hungry, medical care is delayed for the wounded, and recovery efforts stall overall.</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a>Thankfully, the Aid Worker Security Database (AWSD) has provided the public with the opportunity to understand this crisis more clearly. Maintained by Humanitarian Outcomes, the AWSD systematically tracks major incidents of violence against aid workers—including killings, kidnappings, and serious injuries—dating back to 1997 all the way to 2025. It collects and verifies data from news sources, aid agencies, and official reports to build a comprehensive picture of where, how, and why these attacks happen <span class="co">[</span><span class="ot">@awsd</span><span class="co">]</span>.</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a>With such a valuable database as a main source, this interactive dashboard aims to take a closer look at the risks that humanitarians face during their missions. This analysis will explore how violence against humanitarians has evolved over time, the demographics of those who face the greatest risk, the top means of attacks throughout the years, the countries that present the most risk, and the top motives behind the attacks on humanitarians.</span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>The goal is not only data exploration, but strategic insight for humanitarian missions. It’s about bearing witness. Understanding these patterns is the first step toward accountability, protection, and change. As aid workers make the selfless sacrifice to come to the aid of those in need, it is our duty to ensure their safety so they can not only help victims but also return home to their families</span>
<span id="cb10-37"><a href="#cb10-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-38"><a href="#cb10-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-39"><a href="#cb10-39" aria-hidden="true" tabindex="-1"></a>:::{.cr-section}</span>
<span id="cb10-40"><a href="#cb10-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-41"><a href="#cb10-41" aria-hidden="true" tabindex="-1"></a>{{&lt; spacer 10svh &gt;}}</span>
<span id="cb10-42"><a href="#cb10-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-43"><a href="#cb10-43" aria-hidden="true" tabindex="-1"></a>@cr-map </span>
<span id="cb10-44"><a href="#cb10-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-45"><a href="#cb10-45" aria-hidden="true" tabindex="-1"></a><span class="fu">## Serving Through Crisis: &lt;br&gt;The Rising Toll on Humanitarians</span></span>
<span id="cb10-46"><a href="#cb10-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-47"><a href="#cb10-47" aria-hidden="true" tabindex="-1"></a>As previously mentioned, <span class="co">[</span><span class="ot">@cr-map</span><span class="co">]</span> there has been a consistent upward trend in violence against aid workers from 1997 to the present day. This line chart further illustrates that while the overall trajectory is rising, the number of incidents has fluctuated significantly over the years.</span>
<span id="cb10-48"><a href="#cb10-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-49"><a href="#cb10-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-50"><a href="#cb10-50" aria-hidden="true" tabindex="-1"></a>As highlighted in this graph, a significant spike in violence against humanitarians occurs in 2003, <span class="co">[</span><span class="ot">@cr-map</span><span class="co">]</span>{pan-to="65%,-5%" scale-by="3.5"} during the early stages of the **Iraq invasion**. The U.S.-led invasion of Iraq in 2003 may have contributed to significant instability in the region, which would be the likely cause of the heightened risks for humanitarian workers<span class="co">[</span><span class="ot">@hansen2007securing</span><span class="co">]</span>. The resulting conflict may have made aid operations more vulnerable to attacks, as the conflict continued between the two nations.<span class="co">[</span><span class="ot">@cr-map label="Iraq Invasion (2003)" x="2003" y="80" scale-by="1.0"</span><span class="co">]</span></span>
<span id="cb10-51"><a href="#cb10-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-52"><a href="#cb10-52" aria-hidden="true" tabindex="-1"></a>Another visible peak between 2008 and 2010, as demonstrated by the graph <span class="co">[</span><span class="ot">@cr-map</span><span class="co">]</span>{pan-to="45%,-5%" scale-by="4.0"} <span class="co">[</span><span class="ot">@cr-map label="Haiti Earthquake (2010)" x="2010" y="130"</span><span class="co">]</span>, shows a notable drop in violence against aid workers in 2010, which corresponds to the **2010 Earthquake in Haiti** <span class="co">[</span><span class="ot">@aidworkersecurity2011</span><span class="co">]</span>. However, the aftermath of this event reveals a subsequent rise in violence against aid workers, highlighting the evolving security challenges that humanitarians face. The decline in incidents immediately following the earthquake might reflect temporary changes in access or operational shifts, but the eventual rise underscores the ongoing threats faced by aid workers in high-risk environments. </span>
<span id="cb10-53"><a href="#cb10-53" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-54"><a href="#cb10-54" aria-hidden="true" tabindex="-1"></a>One of the most striking peaks occurred in **2013**, <span class="co">[</span><span class="ot">@cr-map</span><span class="co">]</span>{pan-to="10%,-10%" scale-by="4.0"}, when reported incidents surged dramatically to over 260. This coincided with major humanitarian crises and protracted conflicts in countries like Syria, South Sudan, and the Central African Republic<span class="co">[</span><span class="ot">@aidworkersecurity2014</span><span class="co">]</span>. As we can see, major events may lead to a higher count of violence against aid workers. </span>
<span id="cb10-55"><a href="#cb10-55" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-56"><a href="#cb10-56" aria-hidden="true" tabindex="-1"></a>Another sharp spike appears in **2020**, [@cr-map]{pan-to="-100%,-10%" scale-by="2.4"} reaching the highest recorded number of incidents—over 250. 2020 is marked by the **COVID-19 epidemic** and underscores the growing intensity of threats in conflict zones, particularly as aid operations intersect with increasingly volatile political and security environments.</span>
<span id="cb10-57"><a href="#cb10-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-58"><a href="#cb10-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-59"><a href="#cb10-59" aria-hidden="true" tabindex="-1"></a>A sharp peak between 2023 and 2025 <span class="co">[</span><span class="ot">@cr-map</span><span class="co">]</span>{pan-to="-100%,-10%" scale-by="2.4"} shows  the number of incidents against aid workers skyrocketed. This sudden increase highlights the continued high risk that aid workers face as they come to the aid of those in need.<span class="co">[</span><span class="ot">@cr-map</span><span class="co">]</span></span>
<span id="cb10-60"><a href="#cb10-60" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-61"><a href="#cb10-61" aria-hidden="true" tabindex="-1"></a>Overall, the persistent rise and fluctuations in violence against aid workers over the years underscore the complex and ever-evolving nature of humanitarian risk. Each peak and dip on the chart reflects more than just data as they represent the safety, accessibility, and effectiveness of critical life-saving efforts across the globe. <span class="co">[</span><span class="ot">@cr-map</span><span class="co">]</span></span>
<span id="cb10-62"><a href="#cb10-62" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-63"><a href="#cb10-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-64"><a href="#cb10-64" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-65"><a href="#cb10-65" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-66"><a href="#cb10-66" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-67"><a href="#cb10-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-68"><a href="#cb10-68" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-69"><a href="#cb10-69" aria-hidden="true" tabindex="-1"></a>:::{#cr-map}</span>
<span id="cb10-70"><a href="#cb10-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-71"><a href="#cb10-71" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-72"><a href="#cb10-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-75"><a href="#cb10-75" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb10-76"><a href="#cb10-76" aria-hidden="true" tabindex="-1"></a><span class="in">incidents =d3.csv("security_incidents.csv", d =&gt; ({</span></span>
<span id="cb10-77"><a href="#cb10-77" aria-hidden="true" tabindex="-1"></a><span class="in">  Year: +d["Year"] }))</span></span>
<span id="cb10-78"><a href="#cb10-78" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-79"><a href="#cb10-79" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb10-80"><a href="#cb10-80" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-83"><a href="#cb10-83" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb10-84"><a href="#cb10-84" aria-hidden="true" tabindex="-1"></a><span class="in">{</span></span>
<span id="cb10-85"><a href="#cb10-85" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-86"><a href="#cb10-86" aria-hidden="true" tabindex="-1"></a><span class="in">  const yearCounts = incidents.reduce((acc, row) =&gt; {</span></span>
<span id="cb10-87"><a href="#cb10-87" aria-hidden="true" tabindex="-1"></a><span class="in">    if (!isNaN(row.Year)) {</span></span>
<span id="cb10-88"><a href="#cb10-88" aria-hidden="true" tabindex="-1"></a><span class="in">      acc[row.Year] = (acc[row.Year] || 0) + 1;</span></span>
<span id="cb10-89"><a href="#cb10-89" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb10-90"><a href="#cb10-90" aria-hidden="true" tabindex="-1"></a><span class="in">    return acc;</span></span>
<span id="cb10-91"><a href="#cb10-91" aria-hidden="true" tabindex="-1"></a><span class="in">  }, {});</span></span>
<span id="cb10-92"><a href="#cb10-92" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-93"><a href="#cb10-93" aria-hidden="true" tabindex="-1"></a><span class="in">  const sortedYears = Object.keys(yearCounts).map(Number).sort((a, b) =&gt; a - b);</span></span>
<span id="cb10-94"><a href="#cb10-94" aria-hidden="true" tabindex="-1"></a><span class="in">  const counts = sortedYears.map(year =&gt; yearCounts[year]);</span></span>
<span id="cb10-95"><a href="#cb10-95" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-96"><a href="#cb10-96" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-97"><a href="#cb10-97" aria-hidden="true" tabindex="-1"></a><span class="in">  const deltas = counts.map((c, i) =&gt; c - (counts[i - 1] || 0));</span></span>
<span id="cb10-98"><a href="#cb10-98" aria-hidden="true" tabindex="-1"></a><span class="in">  const markerColors = deltas.map(d =&gt; d &gt;= 0 ? "#3b82f6" : "#f87171");</span></span>
<span id="cb10-99"><a href="#cb10-99" aria-hidden="true" tabindex="-1"></a><span class="in">  const markerSymbols = deltas.map(d =&gt; d &gt;= 100 ? "star" : "circle");</span></span>
<span id="cb10-100"><a href="#cb10-100" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-101"><a href="#cb10-101" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-102"><a href="#cb10-102" aria-hidden="true" tabindex="-1"></a><span class="in">  const trace = {</span></span>
<span id="cb10-103"><a href="#cb10-103" aria-hidden="true" tabindex="-1"></a><span class="in">    x: sortedYears,</span></span>
<span id="cb10-104"><a href="#cb10-104" aria-hidden="true" tabindex="-1"></a><span class="in">    y: counts,</span></span>
<span id="cb10-105"><a href="#cb10-105" aria-hidden="true" tabindex="-1"></a><span class="in">    type: "scatter",</span></span>
<span id="cb10-106"><a href="#cb10-106" aria-hidden="true" tabindex="-1"></a><span class="in">    mode: "lines+markers",</span></span>
<span id="cb10-107"><a href="#cb10-107" aria-hidden="true" tabindex="-1"></a><span class="in">    name: "Incidents",</span></span>
<span id="cb10-108"><a href="#cb10-108" aria-hidden="true" tabindex="-1"></a><span class="in">    line: {</span></span>
<span id="cb10-109"><a href="#cb10-109" aria-hidden="true" tabindex="-1"></a><span class="in">      color: "#3b82f6",</span></span>
<span id="cb10-110"><a href="#cb10-110" aria-hidden="true" tabindex="-1"></a><span class="in">      width: 3</span></span>
<span id="cb10-111"><a href="#cb10-111" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb10-112"><a href="#cb10-112" aria-hidden="true" tabindex="-1"></a><span class="in">    marker: {</span></span>
<span id="cb10-113"><a href="#cb10-113" aria-hidden="true" tabindex="-1"></a><span class="in">      size: 8,</span></span>
<span id="cb10-114"><a href="#cb10-114" aria-hidden="true" tabindex="-1"></a><span class="in">      color: markerColors,</span></span>
<span id="cb10-115"><a href="#cb10-115" aria-hidden="true" tabindex="-1"></a><span class="in">      symbol: markerSymbols,</span></span>
<span id="cb10-116"><a href="#cb10-116" aria-hidden="true" tabindex="-1"></a><span class="in">      line: { width: 1, color: "#1e40af" }</span></span>
<span id="cb10-117"><a href="#cb10-117" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb10-118"><a href="#cb10-118" aria-hidden="true" tabindex="-1"></a><span class="in">    hovertemplate:</span></span>
<span id="cb10-119"><a href="#cb10-119" aria-hidden="true" tabindex="-1"></a><span class="in">      `&lt;b&gt;%{y}&lt;/b&gt; incidents&lt;br&gt;` +</span></span>
<span id="cb10-120"><a href="#cb10-120" aria-hidden="true" tabindex="-1"></a><span class="in">      `Year: &lt;b&gt;%{x}&lt;/b&gt;&lt;br&gt;` +</span></span>
<span id="cb10-121"><a href="#cb10-121" aria-hidden="true" tabindex="-1"></a><span class="in">      `Δ from prev: %{customdata} &lt;extra&gt;&lt;/extra&gt;`,</span></span>
<span id="cb10-122"><a href="#cb10-122" aria-hidden="true" tabindex="-1"></a><span class="in">    customdata: deltas</span></span>
<span id="cb10-123"><a href="#cb10-123" aria-hidden="true" tabindex="-1"></a><span class="in">  };</span></span>
<span id="cb10-124"><a href="#cb10-124" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-125"><a href="#cb10-125" aria-hidden="true" tabindex="-1"></a><span class="in">  const layout = {</span></span>
<span id="cb10-126"><a href="#cb10-126" aria-hidden="true" tabindex="-1"></a><span class="in">    title: {</span></span>
<span id="cb10-127"><a href="#cb10-127" aria-hidden="true" tabindex="-1"></a><span class="in">      text: "A Rising Threat: Global Patterns of Attacks on Aid Workers (1997–Present)",</span></span>
<span id="cb10-128"><a href="#cb10-128" aria-hidden="true" tabindex="-1"></a><span class="in">      font: { size: 15, family: "Arial, sans-serif" }</span></span>
<span id="cb10-129"><a href="#cb10-129" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb10-130"><a href="#cb10-130" aria-hidden="true" tabindex="-1"></a><span class="in">    paper_bgcolor: "#f0faff",</span></span>
<span id="cb10-131"><a href="#cb10-131" aria-hidden="true" tabindex="-1"></a><span class="in">    plot_bgcolor: "#ffffff",</span></span>
<span id="cb10-132"><a href="#cb10-132" aria-hidden="true" tabindex="-1"></a><span class="in">    dragmode: "zoom", </span></span>
<span id="cb10-133"><a href="#cb10-133" aria-hidden="true" tabindex="-1"></a><span class="in">    xaxis: {</span></span>
<span id="cb10-134"><a href="#cb10-134" aria-hidden="true" tabindex="-1"></a><span class="in">      title: "Year",</span></span>
<span id="cb10-135"><a href="#cb10-135" aria-hidden="true" tabindex="-1"></a><span class="in">      gridcolor: "#dbeafe",</span></span>
<span id="cb10-136"><a href="#cb10-136" aria-hidden="true" tabindex="-1"></a><span class="in">      zeroline: false,</span></span>
<span id="cb10-137"><a href="#cb10-137" aria-hidden="true" tabindex="-1"></a><span class="in">      rangeslider: { visible: false }, </span></span>
<span id="cb10-138"><a href="#cb10-138" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb10-139"><a href="#cb10-139" aria-hidden="true" tabindex="-1"></a><span class="in">    yaxis: {</span></span>
<span id="cb10-140"><a href="#cb10-140" aria-hidden="true" tabindex="-1"></a><span class="in">      title: "Number of Incidents",</span></span>
<span id="cb10-141"><a href="#cb10-141" aria-hidden="true" tabindex="-1"></a><span class="in">      gridcolor: "#dbeafe",</span></span>
<span id="cb10-142"><a href="#cb10-142" aria-hidden="true" tabindex="-1"></a><span class="in">      zeroline: false</span></span>
<span id="cb10-143"><a href="#cb10-143" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb10-144"><a href="#cb10-144" aria-hidden="true" tabindex="-1"></a><span class="in">    legend: {</span></span>
<span id="cb10-145"><a href="#cb10-145" aria-hidden="true" tabindex="-1"></a><span class="in">      bgcolor: "#ffffff",</span></span>
<span id="cb10-146"><a href="#cb10-146" aria-hidden="true" tabindex="-1"></a><span class="in">      bordercolor: "#ccc",</span></span>
<span id="cb10-147"><a href="#cb10-147" aria-hidden="true" tabindex="-1"></a><span class="in">      borderwidth: 1</span></span>
<span id="cb10-148"><a href="#cb10-148" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb10-149"><a href="#cb10-149" aria-hidden="true" tabindex="-1"></a><span class="in">    hovermode: "x unified",</span></span>
<span id="cb10-150"><a href="#cb10-150" aria-hidden="true" tabindex="-1"></a><span class="in">    margin: { t: 60, l: 60, r: 30, b: 60 },</span></span>
<span id="cb10-151"><a href="#cb10-151" aria-hidden="true" tabindex="-1"></a><span class="in">    annotations: [</span></span>
<span id="cb10-152"><a href="#cb10-152" aria-hidden="true" tabindex="-1"></a><span class="in">      {</span></span>
<span id="cb10-153"><a href="#cb10-153" aria-hidden="true" tabindex="-1"></a><span class="in">        x: 2003,</span></span>
<span id="cb10-154"><a href="#cb10-154" aria-hidden="true" tabindex="-1"></a><span class="in">        y: yearCounts[2003],</span></span>
<span id="cb10-155"><a href="#cb10-155" aria-hidden="true" tabindex="-1"></a><span class="in">        text: "Iraq Invasion",</span></span>
<span id="cb10-156"><a href="#cb10-156" aria-hidden="true" tabindex="-1"></a><span class="in">        showarrow: true,</span></span>
<span id="cb10-157"><a href="#cb10-157" aria-hidden="true" tabindex="-1"></a><span class="in">        arrowhead: 6,</span></span>
<span id="cb10-158"><a href="#cb10-158" aria-hidden="true" tabindex="-1"></a><span class="in">        ax: -40,</span></span>
<span id="cb10-159"><a href="#cb10-159" aria-hidden="true" tabindex="-1"></a><span class="in">        ay: -40,</span></span>
<span id="cb10-160"><a href="#cb10-160" aria-hidden="true" tabindex="-1"></a><span class="in">        bgcolor: "rgba(255,255,255,0.9)",</span></span>
<span id="cb10-161"><a href="#cb10-161" aria-hidden="true" tabindex="-1"></a><span class="in">        bordercolor: "#3b82f6"</span></span>
<span id="cb10-162"><a href="#cb10-162" aria-hidden="true" tabindex="-1"></a><span class="in">      },</span></span>
<span id="cb10-163"><a href="#cb10-163" aria-hidden="true" tabindex="-1"></a><span class="in">      {</span></span>
<span id="cb10-164"><a href="#cb10-164" aria-hidden="true" tabindex="-1"></a><span class="in">        x: 2010,</span></span>
<span id="cb10-165"><a href="#cb10-165" aria-hidden="true" tabindex="-1"></a><span class="in">        y: yearCounts[2010],</span></span>
<span id="cb10-166"><a href="#cb10-166" aria-hidden="true" tabindex="-1"></a><span class="in">        text: "Haiti Earthquake",</span></span>
<span id="cb10-167"><a href="#cb10-167" aria-hidden="true" tabindex="-1"></a><span class="in">        showarrow: true,</span></span>
<span id="cb10-168"><a href="#cb10-168" aria-hidden="true" tabindex="-1"></a><span class="in">        arrowhead: 6,</span></span>
<span id="cb10-169"><a href="#cb10-169" aria-hidden="true" tabindex="-1"></a><span class="in">        ax: 30,</span></span>
<span id="cb10-170"><a href="#cb10-170" aria-hidden="true" tabindex="-1"></a><span class="in">        ay: -50,</span></span>
<span id="cb10-171"><a href="#cb10-171" aria-hidden="true" tabindex="-1"></a><span class="in">        bgcolor: "rgba(255,255,255,0.9)",</span></span>
<span id="cb10-172"><a href="#cb10-172" aria-hidden="true" tabindex="-1"></a><span class="in">        bordercolor: "#f59e0b",</span></span>
<span id="cb10-173"><a href="#cb10-173" aria-hidden="true" tabindex="-1"></a><span class="in">        </span></span>
<span id="cb10-174"><a href="#cb10-174" aria-hidden="true" tabindex="-1"></a><span class="in">      },</span></span>
<span id="cb10-175"><a href="#cb10-175" aria-hidden="true" tabindex="-1"></a><span class="in">        {</span></span>
<span id="cb10-176"><a href="#cb10-176" aria-hidden="true" tabindex="-1"></a><span class="in">        x: 2020,</span></span>
<span id="cb10-177"><a href="#cb10-177" aria-hidden="true" tabindex="-1"></a><span class="in">        y: yearCounts[2020],</span></span>
<span id="cb10-178"><a href="#cb10-178" aria-hidden="true" tabindex="-1"></a><span class="in">        text: "COVID-19 Pandemic",</span></span>
<span id="cb10-179"><a href="#cb10-179" aria-hidden="true" tabindex="-1"></a><span class="in">        showarrow: true,</span></span>
<span id="cb10-180"><a href="#cb10-180" aria-hidden="true" tabindex="-1"></a><span class="in">        arrowhead: 6,</span></span>
<span id="cb10-181"><a href="#cb10-181" aria-hidden="true" tabindex="-1"></a><span class="in">        ax: 30,</span></span>
<span id="cb10-182"><a href="#cb10-182" aria-hidden="true" tabindex="-1"></a><span class="in">        ay: -50,</span></span>
<span id="cb10-183"><a href="#cb10-183" aria-hidden="true" tabindex="-1"></a><span class="in">        bgcolor: "rgba(255,255,255,0.9)",</span></span>
<span id="cb10-184"><a href="#cb10-184" aria-hidden="true" tabindex="-1"></a><span class="in">        bordercolor: "#f59e0b",</span></span>
<span id="cb10-185"><a href="#cb10-185" aria-hidden="true" tabindex="-1"></a><span class="in">        </span></span>
<span id="cb10-186"><a href="#cb10-186" aria-hidden="true" tabindex="-1"></a><span class="in">      }</span></span>
<span id="cb10-187"><a href="#cb10-187" aria-hidden="true" tabindex="-1"></a><span class="in">    ],</span></span>
<span id="cb10-188"><a href="#cb10-188" aria-hidden="true" tabindex="-1"></a><span class="in">    shapes: [</span></span>
<span id="cb10-189"><a href="#cb10-189" aria-hidden="true" tabindex="-1"></a><span class="in">      {</span></span>
<span id="cb10-190"><a href="#cb10-190" aria-hidden="true" tabindex="-1"></a><span class="in">        type: "rect",</span></span>
<span id="cb10-191"><a href="#cb10-191" aria-hidden="true" tabindex="-1"></a><span class="in">        xref: "x",</span></span>
<span id="cb10-192"><a href="#cb10-192" aria-hidden="true" tabindex="-1"></a><span class="in">        yref: "paper",</span></span>
<span id="cb10-193"><a href="#cb10-193" aria-hidden="true" tabindex="-1"></a><span class="in">        x0: 2010,</span></span>
<span id="cb10-194"><a href="#cb10-194" aria-hidden="true" tabindex="-1"></a><span class="in">        x1: 2015,</span></span>
<span id="cb10-195"><a href="#cb10-195" aria-hidden="true" tabindex="-1"></a><span class="in">        y0: 0,</span></span>
<span id="cb10-196"><a href="#cb10-196" aria-hidden="true" tabindex="-1"></a><span class="in">        y1: 1,</span></span>
<span id="cb10-197"><a href="#cb10-197" aria-hidden="true" tabindex="-1"></a><span class="in">        fillcolor: "rgba(59,130,246,0.05)",</span></span>
<span id="cb10-198"><a href="#cb10-198" aria-hidden="true" tabindex="-1"></a><span class="in">        line: { width: 0 }</span></span>
<span id="cb10-199"><a href="#cb10-199" aria-hidden="true" tabindex="-1"></a><span class="in">      }</span></span>
<span id="cb10-200"><a href="#cb10-200" aria-hidden="true" tabindex="-1"></a><span class="in">    ]</span></span>
<span id="cb10-201"><a href="#cb10-201" aria-hidden="true" tabindex="-1"></a><span class="in">  };</span></span>
<span id="cb10-202"><a href="#cb10-202" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-203"><a href="#cb10-203" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-204"><a href="#cb10-204" aria-hidden="true" tabindex="-1"></a><span class="in">  const config = {</span></span>
<span id="cb10-205"><a href="#cb10-205" aria-hidden="true" tabindex="-1"></a><span class="in">    responsive: true,</span></span>
<span id="cb10-206"><a href="#cb10-206" aria-hidden="true" tabindex="-1"></a><span class="in">    displayModeBar: false</span></span>
<span id="cb10-207"><a href="#cb10-207" aria-hidden="true" tabindex="-1"></a><span class="in">  };</span></span>
<span id="cb10-208"><a href="#cb10-208" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-209"><a href="#cb10-209" aria-hidden="true" tabindex="-1"></a><span class="in">  const el = DOM.element("div");</span></span>
<span id="cb10-210"><a href="#cb10-210" aria-hidden="true" tabindex="-1"></a><span class="in">  window.incidentChart = el;</span></span>
<span id="cb10-211"><a href="#cb10-211" aria-hidden="true" tabindex="-1"></a><span class="in">  Plotly.newPlot(el, [trace], layout, config);</span></span>
<span id="cb10-212"><a href="#cb10-212" aria-hidden="true" tabindex="-1"></a><span class="in">  return el;</span></span>
<span id="cb10-213"><a href="#cb10-213" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb10-214"><a href="#cb10-214" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-215"><a href="#cb10-215" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-216"><a href="#cb10-216" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb10-217"><a href="#cb10-217" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-218"><a href="#cb10-218" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-219"><a href="#cb10-219" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb10-220"><a href="#cb10-220" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-221"><a href="#cb10-221" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-222"><a href="#cb10-222" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-223"><a href="#cb10-223" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-224"><a href="#cb10-224" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-225"><a href="#cb10-225" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-226"><a href="#cb10-226" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-227"><a href="#cb10-227" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-228"><a href="#cb10-228" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-229"><a href="#cb10-229" aria-hidden="true" tabindex="-1"></a>:::{#cr-mapped}</span>
<span id="cb10-230"><a href="#cb10-230" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-231"><a href="#cb10-231" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-234"><a href="#cb10-234" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb10-235"><a href="#cb10-235" aria-hidden="true" tabindex="-1"></a><span class="in">//| async: true</span></span>
<span id="cb10-236"><a href="#cb10-236" aria-hidden="true" tabindex="-1"></a><span class="in">incidents2 = await d3.csv("security_incidents.csv", d =&gt; ({</span></span>
<span id="cb10-237"><a href="#cb10-237" aria-hidden="true" tabindex="-1"></a><span class="in">  Year: +d["Year"],</span></span>
<span id="cb10-238"><a href="#cb10-238" aria-hidden="true" tabindex="-1"></a><span class="in">  Nationals: +d["Total nationals"],</span></span>
<span id="cb10-239"><a href="#cb10-239" aria-hidden="true" tabindex="-1"></a><span class="in">  Internationals: +d["Total internationals"]</span></span>
<span id="cb10-240"><a href="#cb10-240" aria-hidden="true" tabindex="-1"></a><span class="in">}))</span></span>
<span id="cb10-241"><a href="#cb10-241" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-242"><a href="#cb10-242" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-243"><a href="#cb10-243" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb10-244"><a href="#cb10-244" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-247"><a href="#cb10-247" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb10-248"><a href="#cb10-248" aria-hidden="true" tabindex="-1"></a><span class="in">{</span></span>
<span id="cb10-249"><a href="#cb10-249" aria-hidden="true" tabindex="-1"></a><span class="in">  const yearlySums = {};</span></span>
<span id="cb10-250"><a href="#cb10-250" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-251"><a href="#cb10-251" aria-hidden="true" tabindex="-1"></a><span class="in">  for (const row of incidents2) {</span></span>
<span id="cb10-252"><a href="#cb10-252" aria-hidden="true" tabindex="-1"></a><span class="in">    if (!isNaN(row.Year)) {</span></span>
<span id="cb10-253"><a href="#cb10-253" aria-hidden="true" tabindex="-1"></a><span class="in">      if (!yearlySums[row.Year]) {</span></span>
<span id="cb10-254"><a href="#cb10-254" aria-hidden="true" tabindex="-1"></a><span class="in">        yearlySums[row.Year] = { nationals: 0, internationals: 0 };</span></span>
<span id="cb10-255"><a href="#cb10-255" aria-hidden="true" tabindex="-1"></a><span class="in">      }</span></span>
<span id="cb10-256"><a href="#cb10-256" aria-hidden="true" tabindex="-1"></a><span class="in">      yearlySums[row.Year].nationals += +row.Nationals || 0;</span></span>
<span id="cb10-257"><a href="#cb10-257" aria-hidden="true" tabindex="-1"></a><span class="in">      yearlySums[row.Year].internationals += +row.Internationals || 0;</span></span>
<span id="cb10-258"><a href="#cb10-258" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb10-259"><a href="#cb10-259" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb10-260"><a href="#cb10-260" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-261"><a href="#cb10-261" aria-hidden="true" tabindex="-1"></a><span class="in">  const sortedYears = Object.keys(yearlySums).map(Number).sort((a, b) =&gt; a - b);</span></span>
<span id="cb10-262"><a href="#cb10-262" aria-hidden="true" tabindex="-1"></a><span class="in">  const nationals = sortedYears.map(year =&gt; yearlySums[year].nationals);</span></span>
<span id="cb10-263"><a href="#cb10-263" aria-hidden="true" tabindex="-1"></a><span class="in">  const internationals = sortedYears.map(year =&gt; yearlySums[year].internationals);</span></span>
<span id="cb10-264"><a href="#cb10-264" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-265"><a href="#cb10-265" aria-hidden="true" tabindex="-1"></a><span class="in">  const deltaNationals = nationals.map((v, i) =&gt; v - (nationals[i - 1] || 0));</span></span>
<span id="cb10-266"><a href="#cb10-266" aria-hidden="true" tabindex="-1"></a><span class="in">  const deltaInternationals = internationals.map((v, i) =&gt; v - (internationals[i - 1] || 0));</span></span>
<span id="cb10-267"><a href="#cb10-267" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-268"><a href="#cb10-268" aria-hidden="true" tabindex="-1"></a><span class="in">  const traces = [</span></span>
<span id="cb10-269"><a href="#cb10-269" aria-hidden="true" tabindex="-1"></a><span class="in">    {</span></span>
<span id="cb10-270"><a href="#cb10-270" aria-hidden="true" tabindex="-1"></a><span class="in">      x: sortedYears,</span></span>
<span id="cb10-271"><a href="#cb10-271" aria-hidden="true" tabindex="-1"></a><span class="in">      y: nationals,</span></span>
<span id="cb10-272"><a href="#cb10-272" aria-hidden="true" tabindex="-1"></a><span class="in">      name: "Nationals",</span></span>
<span id="cb10-273"><a href="#cb10-273" aria-hidden="true" tabindex="-1"></a><span class="in">      type: "scatter",</span></span>
<span id="cb10-274"><a href="#cb10-274" aria-hidden="true" tabindex="-1"></a><span class="in">      mode: "lines+markers",</span></span>
<span id="cb10-275"><a href="#cb10-275" aria-hidden="true" tabindex="-1"></a><span class="in">      marker: {</span></span>
<span id="cb10-276"><a href="#cb10-276" aria-hidden="true" tabindex="-1"></a><span class="in">        color: "#2563eb",</span></span>
<span id="cb10-277"><a href="#cb10-277" aria-hidden="true" tabindex="-1"></a><span class="in">        symbol: "circle",</span></span>
<span id="cb10-278"><a href="#cb10-278" aria-hidden="true" tabindex="-1"></a><span class="in">        size: 7</span></span>
<span id="cb10-279"><a href="#cb10-279" aria-hidden="true" tabindex="-1"></a><span class="in">      },</span></span>
<span id="cb10-280"><a href="#cb10-280" aria-hidden="true" tabindex="-1"></a><span class="in">      line: {</span></span>
<span id="cb10-281"><a href="#cb10-281" aria-hidden="true" tabindex="-1"></a><span class="in">        color: "#2563eb",</span></span>
<span id="cb10-282"><a href="#cb10-282" aria-hidden="true" tabindex="-1"></a><span class="in">        width: 3</span></span>
<span id="cb10-283"><a href="#cb10-283" aria-hidden="true" tabindex="-1"></a><span class="in">      },</span></span>
<span id="cb10-284"><a href="#cb10-284" aria-hidden="true" tabindex="-1"></a><span class="in">      hovertemplate:</span></span>
<span id="cb10-285"><a href="#cb10-285" aria-hidden="true" tabindex="-1"></a><span class="in">        "&lt;b&gt;%{y}&lt;/b&gt; national staff&lt;br&gt;" +</span></span>
<span id="cb10-286"><a href="#cb10-286" aria-hidden="true" tabindex="-1"></a><span class="in">        "Year: &lt;b&gt;%{x}&lt;/b&gt;&lt;br&gt;" +</span></span>
<span id="cb10-287"><a href="#cb10-287" aria-hidden="true" tabindex="-1"></a><span class="in">        "Change from previous: &lt;b&gt;%{customdata:+}&lt;/b&gt;&lt;extra&gt;&lt;/extra&gt;",</span></span>
<span id="cb10-288"><a href="#cb10-288" aria-hidden="true" tabindex="-1"></a><span class="in">      customdata: deltaNationals</span></span>
<span id="cb10-289"><a href="#cb10-289" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb10-290"><a href="#cb10-290" aria-hidden="true" tabindex="-1"></a><span class="in">    {</span></span>
<span id="cb10-291"><a href="#cb10-291" aria-hidden="true" tabindex="-1"></a><span class="in">      x: sortedYears,</span></span>
<span id="cb10-292"><a href="#cb10-292" aria-hidden="true" tabindex="-1"></a><span class="in">      y: internationals,</span></span>
<span id="cb10-293"><a href="#cb10-293" aria-hidden="true" tabindex="-1"></a><span class="in">      name: "Internationals",</span></span>
<span id="cb10-294"><a href="#cb10-294" aria-hidden="true" tabindex="-1"></a><span class="in">      type: "scatter",</span></span>
<span id="cb10-295"><a href="#cb10-295" aria-hidden="true" tabindex="-1"></a><span class="in">      mode: "lines+markers",</span></span>
<span id="cb10-296"><a href="#cb10-296" aria-hidden="true" tabindex="-1"></a><span class="in">      marker: {</span></span>
<span id="cb10-297"><a href="#cb10-297" aria-hidden="true" tabindex="-1"></a><span class="in">        color: "#ea580c",</span></span>
<span id="cb10-298"><a href="#cb10-298" aria-hidden="true" tabindex="-1"></a><span class="in">        symbol: "diamond",</span></span>
<span id="cb10-299"><a href="#cb10-299" aria-hidden="true" tabindex="-1"></a><span class="in">        size: 7</span></span>
<span id="cb10-300"><a href="#cb10-300" aria-hidden="true" tabindex="-1"></a><span class="in">      },</span></span>
<span id="cb10-301"><a href="#cb10-301" aria-hidden="true" tabindex="-1"></a><span class="in">      line: {</span></span>
<span id="cb10-302"><a href="#cb10-302" aria-hidden="true" tabindex="-1"></a><span class="in">        color: "#ea580c",</span></span>
<span id="cb10-303"><a href="#cb10-303" aria-hidden="true" tabindex="-1"></a><span class="in">        width: 3,</span></span>
<span id="cb10-304"><a href="#cb10-304" aria-hidden="true" tabindex="-1"></a><span class="in">        dash: "dot"</span></span>
<span id="cb10-305"><a href="#cb10-305" aria-hidden="true" tabindex="-1"></a><span class="in">      },</span></span>
<span id="cb10-306"><a href="#cb10-306" aria-hidden="true" tabindex="-1"></a><span class="in">      hovertemplate:</span></span>
<span id="cb10-307"><a href="#cb10-307" aria-hidden="true" tabindex="-1"></a><span class="in">        "&lt;b&gt;%{y}&lt;/b&gt; international staff&lt;br&gt;" +</span></span>
<span id="cb10-308"><a href="#cb10-308" aria-hidden="true" tabindex="-1"></a><span class="in">        "Year: &lt;b&gt;%{x}&lt;/b&gt;&lt;br&gt;" +</span></span>
<span id="cb10-309"><a href="#cb10-309" aria-hidden="true" tabindex="-1"></a><span class="in">        "Change from previous: &lt;b&gt;%{customdata:+}&lt;/b&gt;&lt;extra&gt;&lt;/extra&gt;",</span></span>
<span id="cb10-310"><a href="#cb10-310" aria-hidden="true" tabindex="-1"></a><span class="in">      customdata: deltaInternationals</span></span>
<span id="cb10-311"><a href="#cb10-311" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb10-312"><a href="#cb10-312" aria-hidden="true" tabindex="-1"></a><span class="in">  ];</span></span>
<span id="cb10-313"><a href="#cb10-313" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-314"><a href="#cb10-314" aria-hidden="true" tabindex="-1"></a><span class="in">  const layout = {</span></span>
<span id="cb10-315"><a href="#cb10-315" aria-hidden="true" tabindex="-1"></a><span class="in">    title: {</span></span>
<span id="cb10-316"><a href="#cb10-316" aria-hidden="true" tabindex="-1"></a><span class="in">      text: "Nationals vs Internationals: Aid Worker Incidents Over Time",</span></span>
<span id="cb10-317"><a href="#cb10-317" aria-hidden="true" tabindex="-1"></a><span class="in">      font: { size: 20, family: "Arial, sans-serif" }</span></span>
<span id="cb10-318"><a href="#cb10-318" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb10-319"><a href="#cb10-319" aria-hidden="true" tabindex="-1"></a><span class="in">    paper_bgcolor: "#f0faff",</span></span>
<span id="cb10-320"><a href="#cb10-320" aria-hidden="true" tabindex="-1"></a><span class="in">    plot_bgcolor: "#ffffff",</span></span>
<span id="cb10-321"><a href="#cb10-321" aria-hidden="true" tabindex="-1"></a><span class="in">    xaxis: {</span></span>
<span id="cb10-322"><a href="#cb10-322" aria-hidden="true" tabindex="-1"></a><span class="in">      title: "Year",</span></span>
<span id="cb10-323"><a href="#cb10-323" aria-hidden="true" tabindex="-1"></a><span class="in">      gridcolor: "#dbeafe",</span></span>
<span id="cb10-324"><a href="#cb10-324" aria-hidden="true" tabindex="-1"></a><span class="in">      zeroline: false</span></span>
<span id="cb10-325"><a href="#cb10-325" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb10-326"><a href="#cb10-326" aria-hidden="true" tabindex="-1"></a><span class="in">    yaxis: {</span></span>
<span id="cb10-327"><a href="#cb10-327" aria-hidden="true" tabindex="-1"></a><span class="in">      title: "Number of Incidents",</span></span>
<span id="cb10-328"><a href="#cb10-328" aria-hidden="true" tabindex="-1"></a><span class="in">      gridcolor: "#dbeafe",</span></span>
<span id="cb10-329"><a href="#cb10-329" aria-hidden="true" tabindex="-1"></a><span class="in">      zeroline: false</span></span>
<span id="cb10-330"><a href="#cb10-330" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb10-331"><a href="#cb10-331" aria-hidden="true" tabindex="-1"></a><span class="in">    hovermode: "x unified",</span></span>
<span id="cb10-332"><a href="#cb10-332" aria-hidden="true" tabindex="-1"></a><span class="in">    legend: {</span></span>
<span id="cb10-333"><a href="#cb10-333" aria-hidden="true" tabindex="-1"></a><span class="in">      bgcolor: "#ffffff",</span></span>
<span id="cb10-334"><a href="#cb10-334" aria-hidden="true" tabindex="-1"></a><span class="in">      bordercolor: "#ccc",</span></span>
<span id="cb10-335"><a href="#cb10-335" aria-hidden="true" tabindex="-1"></a><span class="in">      borderwidth: 1</span></span>
<span id="cb10-336"><a href="#cb10-336" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb10-337"><a href="#cb10-337" aria-hidden="true" tabindex="-1"></a><span class="in">    annotations: [</span></span>
<span id="cb10-338"><a href="#cb10-338" aria-hidden="true" tabindex="-1"></a><span class="in">      {</span></span>
<span id="cb10-339"><a href="#cb10-339" aria-hidden="true" tabindex="-1"></a><span class="in">        x: 2013,</span></span>
<span id="cb10-340"><a href="#cb10-340" aria-hidden="true" tabindex="-1"></a><span class="in">        y: nationals[sortedYears.indexOf(2013)],</span></span>
<span id="cb10-341"><a href="#cb10-341" aria-hidden="true" tabindex="-1"></a><span class="in">        text: "First Nat. Peak",</span></span>
<span id="cb10-342"><a href="#cb10-342" aria-hidden="true" tabindex="-1"></a><span class="in">        showarrow: true,</span></span>
<span id="cb10-343"><a href="#cb10-343" aria-hidden="true" tabindex="-1"></a><span class="in">        arrowhead: 6,</span></span>
<span id="cb10-344"><a href="#cb10-344" aria-hidden="true" tabindex="-1"></a><span class="in">        ax: -60,</span></span>
<span id="cb10-345"><a href="#cb10-345" aria-hidden="true" tabindex="-1"></a><span class="in">        ay: -40,</span></span>
<span id="cb10-346"><a href="#cb10-346" aria-hidden="true" tabindex="-1"></a><span class="in">        bgcolor: "#ffffff",</span></span>
<span id="cb10-347"><a href="#cb10-347" aria-hidden="true" tabindex="-1"></a><span class="in">        bordercolor: "#2563eb"</span></span>
<span id="cb10-348"><a href="#cb10-348" aria-hidden="true" tabindex="-1"></a><span class="in">      },</span></span>
<span id="cb10-349"><a href="#cb10-349" aria-hidden="true" tabindex="-1"></a><span class="in">         {</span></span>
<span id="cb10-350"><a href="#cb10-350" aria-hidden="true" tabindex="-1"></a><span class="in">        x: 2024,</span></span>
<span id="cb10-351"><a href="#cb10-351" aria-hidden="true" tabindex="-1"></a><span class="in">        y: nationals[sortedYears.indexOf(2024)],</span></span>
<span id="cb10-352"><a href="#cb10-352" aria-hidden="true" tabindex="-1"></a><span class="in">        text: "Highest Nat. Peak",</span></span>
<span id="cb10-353"><a href="#cb10-353" aria-hidden="true" tabindex="-1"></a><span class="in">        showarrow: true,</span></span>
<span id="cb10-354"><a href="#cb10-354" aria-hidden="true" tabindex="-1"></a><span class="in">        arrowhead: 6,</span></span>
<span id="cb10-355"><a href="#cb10-355" aria-hidden="true" tabindex="-1"></a><span class="in">        ax: -60,</span></span>
<span id="cb10-356"><a href="#cb10-356" aria-hidden="true" tabindex="-1"></a><span class="in">        ay: -40,</span></span>
<span id="cb10-357"><a href="#cb10-357" aria-hidden="true" tabindex="-1"></a><span class="in">        bgcolor: "#ffffff",</span></span>
<span id="cb10-358"><a href="#cb10-358" aria-hidden="true" tabindex="-1"></a><span class="in">        bordercolor: "#2563eb"</span></span>
<span id="cb10-359"><a href="#cb10-359" aria-hidden="true" tabindex="-1"></a><span class="in">      },</span></span>
<span id="cb10-360"><a href="#cb10-360" aria-hidden="true" tabindex="-1"></a><span class="in">      {</span></span>
<span id="cb10-361"><a href="#cb10-361" aria-hidden="true" tabindex="-1"></a><span class="in">        x: 2009,</span></span>
<span id="cb10-362"><a href="#cb10-362" aria-hidden="true" tabindex="-1"></a><span class="in">        y: internationals[sortedYears.indexOf(2009)],</span></span>
<span id="cb10-363"><a href="#cb10-363" aria-hidden="true" tabindex="-1"></a><span class="in">        text: "Highest Int. Peak",</span></span>
<span id="cb10-364"><a href="#cb10-364" aria-hidden="true" tabindex="-1"></a><span class="in">        showarrow: true,</span></span>
<span id="cb10-365"><a href="#cb10-365" aria-hidden="true" tabindex="-1"></a><span class="in">        arrowhead: 6,</span></span>
<span id="cb10-366"><a href="#cb10-366" aria-hidden="true" tabindex="-1"></a><span class="in">        ax: 30,</span></span>
<span id="cb10-367"><a href="#cb10-367" aria-hidden="true" tabindex="-1"></a><span class="in">        ay: -50,</span></span>
<span id="cb10-368"><a href="#cb10-368" aria-hidden="true" tabindex="-1"></a><span class="in">        bgcolor: "#ffffff",</span></span>
<span id="cb10-369"><a href="#cb10-369" aria-hidden="true" tabindex="-1"></a><span class="in">        bordercolor: "#ea580c"</span></span>
<span id="cb10-370"><a href="#cb10-370" aria-hidden="true" tabindex="-1"></a><span class="in">      }</span></span>
<span id="cb10-371"><a href="#cb10-371" aria-hidden="true" tabindex="-1"></a><span class="in">    ],</span></span>
<span id="cb10-372"><a href="#cb10-372" aria-hidden="true" tabindex="-1"></a><span class="in">    margin: { t: 60, l: 60, r: 30, b: 60 }</span></span>
<span id="cb10-373"><a href="#cb10-373" aria-hidden="true" tabindex="-1"></a><span class="in">  };</span></span>
<span id="cb10-374"><a href="#cb10-374" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-375"><a href="#cb10-375" aria-hidden="true" tabindex="-1"></a><span class="in">  const el = DOM.element("div");</span></span>
<span id="cb10-376"><a href="#cb10-376" aria-hidden="true" tabindex="-1"></a><span class="in">  Plotly.newPlot(el, traces, layout, { responsive: true });</span></span>
<span id="cb10-377"><a href="#cb10-377" aria-hidden="true" tabindex="-1"></a><span class="in">  return el;</span></span>
<span id="cb10-378"><a href="#cb10-378" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb10-379"><a href="#cb10-379" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-380"><a href="#cb10-380" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-381"><a href="#cb10-381" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb10-382"><a href="#cb10-382" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb10-383"><a href="#cb10-383" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-384"><a href="#cb10-384" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-385"><a href="#cb10-385" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-386"><a href="#cb10-386" aria-hidden="true" tabindex="-1"></a><span class="fu">## Unequal Risk: &lt;br&gt; National Aid Workers Shoulder the Heaviest Burden</span></span>
<span id="cb10-387"><a href="#cb10-387" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">@cr-mapped</span><span class="co">]</span>  The next step in understanding violence against aid workers is identifying who bears the brunt of it. This is crucial, as it enables humanitarian organizations to better strategize how they protect their personnel. As demonstrated by this line chart, not all aid workers face the same level of risk, and recognizing these disparities is the first step toward ensuring that those most vulnerable who are often overlooked—receive the support, protection, and resources they need.</span>
<span id="cb10-388"><a href="#cb10-388" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-389"><a href="#cb10-389" aria-hidden="true" tabindex="-1"></a>This graph starkly <span class="co">[</span><span class="ot">@cr-mapped</span><span class="co">]</span> illustrates the disproportionate impact of violence on national aid workers compared to their international counterparts. Over the past two decades, incidents involving national staff have risen dramatically, while violence against international workers has remained consistently low. This widening gap underscores the urgent need for humanitarian organizations to increase support for national aid workers, who often face greater risks with fewer protections.</span>
<span id="cb10-390"><a href="#cb10-390" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-391"><a href="#cb10-391" aria-hidden="true" tabindex="-1"></a>Distinct peaks in the data reveal how risk has shifted over time. For national aid workers, a sharp surge in incidents occurred in **2013**, reaching nearly **400 cases**, [@cr-mapped]{pan-to="40%,-10%" scale-by="3.1"} likely reflecting increased exposure amid regional conflicts and crises [@aidworkersecurity2014]. This spike underscores how national staff are often on the frontlines during periods of heightened instability. In contrast, international staff experienced their highest peak in 2009, with fewer than **10 incidents** This stark disparity in the number of incidents between national and international aid workers further emphasizes the urgent need for increased protection and support for national humanitarians, who shoulder the greatest risk.</span>
<span id="cb10-392"><a href="#cb10-392" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-393"><a href="#cb10-393" aria-hidden="true" tabindex="-1"></a>The highest peak of violence against aid workers <span class="co">[</span><span class="ot">@cr-mapped</span><span class="co">]</span>{pan-to="-100%,-10%" scale-by="2.4"} occurred in 2024, overwhelmingly impacting national staff<span class="co">[</span><span class="ot">@aidworkersecurity2024</span><span class="co">]</span>. Unlike their international counterparts, national workers often may remain in volatile areas long after evacuations as they operate with fewer security resources and facing greater day-to-day risks. They also may also receive less institutional protection and long-term support. This imbalance reveals a critical gap in humanitarian response so underscoring the urgent need to prioritize the safety, insurance, and sustained well-being of national staff, who are the backbone of global aid delivery.</span>
<span id="cb10-394"><a href="#cb10-394" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-395"><a href="#cb10-395" aria-hidden="true" tabindex="-1"></a>Overall, this illustration highlights the stark disparity in the risks faced by national as compared to international aid workers. While international staff tend to face lower and less frequent exposure to violence, national staff bear the brunt of this danger, as they often operate in more volatile environments with fewer resources and protections. Addressing this imbalance is crucial for the future of humanitarian work. To ensure the safety and sustainability of aid efforts, humanitarian organizations must invest more significantly in the safety, support, and protection of national staff as they are often the first responders and the backbone of global relief operations.<span class="co">[</span><span class="ot">@cr-mapped</span><span class="co">]</span></span>
<span id="cb10-396"><a href="#cb10-396" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-397"><a href="#cb10-397" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-398"><a href="#cb10-398" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-399"><a href="#cb10-399" aria-hidden="true" tabindex="-1"></a>:::{#cr-map2}</span>
<span id="cb10-400"><a href="#cb10-400" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-403"><a href="#cb10-403" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb10-404"><a href="#cb10-404" aria-hidden="true" tabindex="-1"></a><span class="in">attackData = await d3.csv("security_incidents.csv", d =&gt; ({</span></span>
<span id="cb10-405"><a href="#cb10-405" aria-hidden="true" tabindex="-1"></a><span class="in">  Year: +d["Year"],</span></span>
<span id="cb10-406"><a href="#cb10-406" aria-hidden="true" tabindex="-1"></a><span class="in">  Attack: d["Means of attack"]</span></span>
<span id="cb10-407"><a href="#cb10-407" aria-hidden="true" tabindex="-1"></a><span class="in">})).then(data =&gt; data.filter(d =&gt; !isNaN(d.Year)))</span></span>
<span id="cb10-408"><a href="#cb10-408" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb10-409"><a href="#cb10-409" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-410"><a href="#cb10-410" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-413"><a href="#cb10-413" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb10-414"><a href="#cb10-414" aria-hidden="true" tabindex="-1"></a><span class="in">{</span></span>
<span id="cb10-415"><a href="#cb10-415" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb10-416"><a href="#cb10-416" aria-hidden="true" tabindex="-1"></a><span class="in">  const top5 = Array.from(</span></span>
<span id="cb10-417"><a href="#cb10-417" aria-hidden="true" tabindex="-1"></a><span class="in">    d3.rollups(attackData, v =&gt; v.length, d =&gt; d.Attack)</span></span>
<span id="cb10-418"><a href="#cb10-418" aria-hidden="true" tabindex="-1"></a><span class="in">      .sort((a, b) =&gt; d3.descending(a[1], b[1]))</span></span>
<span id="cb10-419"><a href="#cb10-419" aria-hidden="true" tabindex="-1"></a><span class="in">      .slice(0, 5),</span></span>
<span id="cb10-420"><a href="#cb10-420" aria-hidden="true" tabindex="-1"></a><span class="in">    d =&gt; d[0]</span></span>
<span id="cb10-421"><a href="#cb10-421" aria-hidden="true" tabindex="-1"></a><span class="in">  );</span></span>
<span id="cb10-422"><a href="#cb10-422" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-423"><a href="#cb10-423" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-424"><a href="#cb10-424" aria-hidden="true" tabindex="-1"></a><span class="in">  const grouped = d3.rollups(</span></span>
<span id="cb10-425"><a href="#cb10-425" aria-hidden="true" tabindex="-1"></a><span class="in">    attackData.filter(d =&gt; top5.includes(d.Attack)),</span></span>
<span id="cb10-426"><a href="#cb10-426" aria-hidden="true" tabindex="-1"></a><span class="in">    v =&gt; v.length,</span></span>
<span id="cb10-427"><a href="#cb10-427" aria-hidden="true" tabindex="-1"></a><span class="in">    d =&gt; d.Year,</span></span>
<span id="cb10-428"><a href="#cb10-428" aria-hidden="true" tabindex="-1"></a><span class="in">    d =&gt; d.Attack</span></span>
<span id="cb10-429"><a href="#cb10-429" aria-hidden="true" tabindex="-1"></a><span class="in">  );</span></span>
<span id="cb10-430"><a href="#cb10-430" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-431"><a href="#cb10-431" aria-hidden="true" tabindex="-1"></a><span class="in"> </span></span>
<span id="cb10-432"><a href="#cb10-432" aria-hidden="true" tabindex="-1"></a><span class="in">  const attackByYear = {};</span></span>
<span id="cb10-433"><a href="#cb10-433" aria-hidden="true" tabindex="-1"></a><span class="in">  for (const [year, entries] of grouped) {</span></span>
<span id="cb10-434"><a href="#cb10-434" aria-hidden="true" tabindex="-1"></a><span class="in">    const entryMap = new Map(entries);</span></span>
<span id="cb10-435"><a href="#cb10-435" aria-hidden="true" tabindex="-1"></a><span class="in">    attackByYear[year] = top5.map(attack =&gt; ({</span></span>
<span id="cb10-436"><a href="#cb10-436" aria-hidden="true" tabindex="-1"></a><span class="in">      attack,</span></span>
<span id="cb10-437"><a href="#cb10-437" aria-hidden="true" tabindex="-1"></a><span class="in">      count: entryMap.get(attack) || 0</span></span>
<span id="cb10-438"><a href="#cb10-438" aria-hidden="true" tabindex="-1"></a><span class="in">    }));</span></span>
<span id="cb10-439"><a href="#cb10-439" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb10-440"><a href="#cb10-440" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-441"><a href="#cb10-441" aria-hidden="true" tabindex="-1"></a><span class="in">  const attackYears = Object.keys(attackByYear).map(Number).sort((a, b) =&gt; a - b);</span></span>
<span id="cb10-442"><a href="#cb10-442" aria-hidden="true" tabindex="-1"></a><span class="in">  const firstYear = attackYears[0];</span></span>
<span id="cb10-443"><a href="#cb10-443" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-444"><a href="#cb10-444" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb10-445"><a href="#cb10-445" aria-hidden="true" tabindex="-1"></a><span class="in">  const el = html`&lt;div id="scroll-attack-chart" style="height: 700px;"&gt;&lt;/div&gt;`;</span></span>
<span id="cb10-446"><a href="#cb10-446" aria-hidden="true" tabindex="-1"></a><span class="in">  const maxX = d3.max(Object.values(attackByYear).flat(), d =&gt; d.count) * 1.2;</span></span>
<span id="cb10-447"><a href="#cb10-447" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-448"><a href="#cb10-448" aria-hidden="true" tabindex="-1"></a><span class="in">  function getBarColors(data) {</span></span>
<span id="cb10-449"><a href="#cb10-449" aria-hidden="true" tabindex="-1"></a><span class="in">    const maxCount = Math.max(...data.map(d =&gt; d.count));</span></span>
<span id="cb10-450"><a href="#cb10-450" aria-hidden="true" tabindex="-1"></a><span class="in">    return data.map(d =&gt; d.count === maxCount &amp;&amp; d.count &gt; 0 ? "#ef4444" : "#3b82f6");</span></span>
<span id="cb10-451"><a href="#cb10-451" aria-hidden="true" tabindex="-1"></a><span class="in">  }</span></span>
<span id="cb10-452"><a href="#cb10-452" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-453"><a href="#cb10-453" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-454"><a href="#cb10-454" aria-hidden="true" tabindex="-1"></a><span class="in">  const initial = attackByYear[firstYear];</span></span>
<span id="cb10-455"><a href="#cb10-455" aria-hidden="true" tabindex="-1"></a><span class="in">  Plotly.newPlot(el, [{</span></span>
<span id="cb10-456"><a href="#cb10-456" aria-hidden="true" tabindex="-1"></a><span class="in">    type: "bar",</span></span>
<span id="cb10-457"><a href="#cb10-457" aria-hidden="true" tabindex="-1"></a><span class="in">    orientation: "h",</span></span>
<span id="cb10-458"><a href="#cb10-458" aria-hidden="true" tabindex="-1"></a><span class="in">    x: initial.map(d =&gt; d.count),</span></span>
<span id="cb10-459"><a href="#cb10-459" aria-hidden="true" tabindex="-1"></a><span class="in">    y: initial.map(d =&gt; d.attack),</span></span>
<span id="cb10-460"><a href="#cb10-460" aria-hidden="true" tabindex="-1"></a><span class="in">    text: initial.map(d =&gt; d.count),</span></span>
<span id="cb10-461"><a href="#cb10-461" aria-hidden="true" tabindex="-1"></a><span class="in">    textposition: "auto",</span></span>
<span id="cb10-462"><a href="#cb10-462" aria-hidden="true" tabindex="-1"></a><span class="in">    marker: { color: getBarColors(initial) },</span></span>
<span id="cb10-463"><a href="#cb10-463" aria-hidden="true" tabindex="-1"></a><span class="in">    hovertemplate: "&lt;b&gt;%{y}&lt;/b&gt;&lt;br&gt;%{x} incidents&lt;extra&gt;&lt;/extra&gt;"</span></span>
<span id="cb10-464"><a href="#cb10-464" aria-hidden="true" tabindex="-1"></a><span class="in">  }], {</span></span>
<span id="cb10-465"><a href="#cb10-465" aria-hidden="true" tabindex="-1"></a><span class="in">    title: {</span></span>
<span id="cb10-466"><a href="#cb10-466" aria-hidden="true" tabindex="-1"></a><span class="in">      text: `Top 5 Means of Attack on Aid Workers – ${firstYear}`,</span></span>
<span id="cb10-467"><a href="#cb10-467" aria-hidden="true" tabindex="-1"></a><span class="in">      font: { size: 20 }</span></span>
<span id="cb10-468"><a href="#cb10-468" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb10-469"><a href="#cb10-469" aria-hidden="true" tabindex="-1"></a><span class="in">    paper_bgcolor: "#f0faff",</span></span>
<span id="cb10-470"><a href="#cb10-470" aria-hidden="true" tabindex="-1"></a><span class="in">    plot_bgcolor: "#ffffff",</span></span>
<span id="cb10-471"><a href="#cb10-471" aria-hidden="true" tabindex="-1"></a><span class="in">    margin: { t: 60, l: 180, r: 30, b: 60 },</span></span>
<span id="cb10-472"><a href="#cb10-472" aria-hidden="true" tabindex="-1"></a><span class="in">    xaxis: {</span></span>
<span id="cb10-473"><a href="#cb10-473" aria-hidden="true" tabindex="-1"></a><span class="in">      title: "Number of Incidents",</span></span>
<span id="cb10-474"><a href="#cb10-474" aria-hidden="true" tabindex="-1"></a><span class="in">      gridcolor: "#dbeafe",</span></span>
<span id="cb10-475"><a href="#cb10-475" aria-hidden="true" tabindex="-1"></a><span class="in">      range: [0, maxX]</span></span>
<span id="cb10-476"><a href="#cb10-476" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb10-477"><a href="#cb10-477" aria-hidden="true" tabindex="-1"></a><span class="in">    yaxis: {</span></span>
<span id="cb10-478"><a href="#cb10-478" aria-hidden="true" tabindex="-1"></a><span class="in">      title: "Means of Attack",</span></span>
<span id="cb10-479"><a href="#cb10-479" aria-hidden="true" tabindex="-1"></a><span class="in">      gridcolor: "#dbeafe",</span></span>
<span id="cb10-480"><a href="#cb10-480" aria-hidden="true" tabindex="-1"></a><span class="in">      autorange: "reversed"</span></span>
<span id="cb10-481"><a href="#cb10-481" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb10-482"><a href="#cb10-482" aria-hidden="true" tabindex="-1"></a><span class="in">    bargap: 0.5</span></span>
<span id="cb10-483"><a href="#cb10-483" aria-hidden="true" tabindex="-1"></a><span class="in">  }, { responsive: true });</span></span>
<span id="cb10-484"><a href="#cb10-484" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-485"><a href="#cb10-485" aria-hidden="true" tabindex="-1"></a><span class="in">  const observer = new IntersectionObserver((entries) =&gt; {</span></span>
<span id="cb10-486"><a href="#cb10-486" aria-hidden="true" tabindex="-1"></a><span class="in">    for (const entry of entries) {</span></span>
<span id="cb10-487"><a href="#cb10-487" aria-hidden="true" tabindex="-1"></a><span class="in">      if (entry.isIntersecting) {</span></span>
<span id="cb10-488"><a href="#cb10-488" aria-hidden="true" tabindex="-1"></a><span class="in">        let index = 1;</span></span>
<span id="cb10-489"><a href="#cb10-489" aria-hidden="true" tabindex="-1"></a><span class="in">        const run = () =&gt; {</span></span>
<span id="cb10-490"><a href="#cb10-490" aria-hidden="true" tabindex="-1"></a><span class="in">          if (index &gt;= attackYears.length) return;</span></span>
<span id="cb10-491"><a href="#cb10-491" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-492"><a href="#cb10-492" aria-hidden="true" tabindex="-1"></a><span class="in">          const year = attackYears[index];</span></span>
<span id="cb10-493"><a href="#cb10-493" aria-hidden="true" tabindex="-1"></a><span class="in">          const data = attackByYear[year];</span></span>
<span id="cb10-494"><a href="#cb10-494" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-495"><a href="#cb10-495" aria-hidden="true" tabindex="-1"></a><span class="in">          Plotly.animate(el, {</span></span>
<span id="cb10-496"><a href="#cb10-496" aria-hidden="true" tabindex="-1"></a><span class="in">            data: [{</span></span>
<span id="cb10-497"><a href="#cb10-497" aria-hidden="true" tabindex="-1"></a><span class="in">              x: data.map(d =&gt; d.count),</span></span>
<span id="cb10-498"><a href="#cb10-498" aria-hidden="true" tabindex="-1"></a><span class="in">              y: data.map(d =&gt; d.attack),</span></span>
<span id="cb10-499"><a href="#cb10-499" aria-hidden="true" tabindex="-1"></a><span class="in">              text: data.map(d =&gt; d.count),</span></span>
<span id="cb10-500"><a href="#cb10-500" aria-hidden="true" tabindex="-1"></a><span class="in">              marker: { color: getBarColors(data) }</span></span>
<span id="cb10-501"><a href="#cb10-501" aria-hidden="true" tabindex="-1"></a><span class="in">            }],</span></span>
<span id="cb10-502"><a href="#cb10-502" aria-hidden="true" tabindex="-1"></a><span class="in">            layout: { title: `Top 5 Means of Attack on Aid Workers – ${year}` }</span></span>
<span id="cb10-503"><a href="#cb10-503" aria-hidden="true" tabindex="-1"></a><span class="in">          }, {</span></span>
<span id="cb10-504"><a href="#cb10-504" aria-hidden="true" tabindex="-1"></a><span class="in">            transition: { duration: 400 },</span></span>
<span id="cb10-505"><a href="#cb10-505" aria-hidden="true" tabindex="-1"></a><span class="in">            frame: { duration: 800, redraw: true }</span></span>
<span id="cb10-506"><a href="#cb10-506" aria-hidden="true" tabindex="-1"></a><span class="in">          });</span></span>
<span id="cb10-507"><a href="#cb10-507" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-508"><a href="#cb10-508" aria-hidden="true" tabindex="-1"></a><span class="in">          index++;</span></span>
<span id="cb10-509"><a href="#cb10-509" aria-hidden="true" tabindex="-1"></a><span class="in">          setTimeout(run, 1100);</span></span>
<span id="cb10-510"><a href="#cb10-510" aria-hidden="true" tabindex="-1"></a><span class="in">        };</span></span>
<span id="cb10-511"><a href="#cb10-511" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-512"><a href="#cb10-512" aria-hidden="true" tabindex="-1"></a><span class="in">        setTimeout(run, 1000);</span></span>
<span id="cb10-513"><a href="#cb10-513" aria-hidden="true" tabindex="-1"></a><span class="in">        observer.unobserve(entry.target);</span></span>
<span id="cb10-514"><a href="#cb10-514" aria-hidden="true" tabindex="-1"></a><span class="in">      }</span></span>
<span id="cb10-515"><a href="#cb10-515" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb10-516"><a href="#cb10-516" aria-hidden="true" tabindex="-1"></a><span class="in">  }, { threshold: 0.4 });</span></span>
<span id="cb10-517"><a href="#cb10-517" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-518"><a href="#cb10-518" aria-hidden="true" tabindex="-1"></a><span class="in">  observer.observe(el);</span></span>
<span id="cb10-519"><a href="#cb10-519" aria-hidden="true" tabindex="-1"></a><span class="in">  return el;</span></span>
<span id="cb10-520"><a href="#cb10-520" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb10-521"><a href="#cb10-521" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-522"><a href="#cb10-522" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-523"><a href="#cb10-523" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb10-524"><a href="#cb10-524" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-525"><a href="#cb10-525" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-526"><a href="#cb10-526" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb10-527"><a href="#cb10-527" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-528"><a href="#cb10-528" aria-hidden="true" tabindex="-1"></a>:::{#cr-map2}</span>
<span id="cb10-529"><a href="#cb10-529" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-530"><a href="#cb10-530" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-531"><a href="#cb10-531" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb10-532"><a href="#cb10-532" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-533"><a href="#cb10-533" aria-hidden="true" tabindex="-1"></a><span class="fu">## Shifting Tactics: How Aid Workers Are Attacked Has Evolved</span></span>
<span id="cb10-534"><a href="#cb10-534" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-535"><a href="#cb10-535" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">@cr-map2</span><span class="co">]</span> To effectively address and mitigate the risks faced by aid workers, understanding the means by which they are targeted is crucial. Identifying the most common methods of violence enables humanitarian organizations to better tailor security measures, allocate resources, and develop strategies to protect workers in high-risk areas. Over time, the methods used to attack aid workers have evolved, and understanding these shifts is vital for adapting security protocols to the changing nature of these threats.</span>
<span id="cb10-536"><a href="#cb10-536" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-537"><a href="#cb10-537" aria-hidden="true" tabindex="-1"></a>This bar chart demonstrates fluctuations in the top five methods of violence between 1997 and 2025. **Shootings** have consistently been the most prevalent form of attack, with a significant peak in 2023. **Bodily assaults**, which include beatings and physical abuse, saw a sharp rise between 2015 and 2020, even surpassing shootings at one point, showing that physical violence is a leading threat to aid workers. **Kidnapping**, a long-standing concern, ranks as the third most common method of attack. **Aerial bombardment**, while less frequent overall, has steadily increased from 2018 onward, indicating the growing collateral damage from indiscriminate or high-tech warfare. This highlights the evolving nature of threats in modern conflict zones. The **Unknown** category remains variable, pointing to gaps in data collection and classification that complicate efforts to fully assess the scale of violence.</span>
<span id="cb10-538"><a href="#cb10-538" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-539"><a href="#cb10-539" aria-hidden="true" tabindex="-1"></a>These shifting patterns in violence underscore the growing complexity of threats faced by aid workers. The emergence of new attack methods, alongside traditional forms of violence, highlights the need for humanitarian organizations to continuously adapt their security strategies. Enhanced data collection and reporting are essential to accurately assess these threats and improve protective measures for aid workers in conflict zones.</span>
<span id="cb10-540"><a href="#cb10-540" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-541"><a href="#cb10-541" aria-hidden="true" tabindex="-1"></a>:::{#cr-map3}</span>
<span id="cb10-542"><a href="#cb10-542" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-545"><a href="#cb10-545" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb10-546"><a href="#cb10-546" aria-hidden="true" tabindex="-1"></a><span class="in">d3 = require("d3@7")</span></span>
<span id="cb10-547"><a href="#cb10-547" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-548"><a href="#cb10-548" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb10-549"><a href="#cb10-549" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-550"><a href="#cb10-550" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-553"><a href="#cb10-553" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb10-554"><a href="#cb10-554" aria-hidden="true" tabindex="-1"></a><span class="in">// Load and parse CSV</span></span>
<span id="cb10-555"><a href="#cb10-555" aria-hidden="true" tabindex="-1"></a><span class="in">geoData = await d3.csv("security_incidents.csv", d =&gt; ({</span></span>
<span id="cb10-556"><a href="#cb10-556" aria-hidden="true" tabindex="-1"></a><span class="in">  City: d.City,</span></span>
<span id="cb10-557"><a href="#cb10-557" aria-hidden="true" tabindex="-1"></a><span class="in">  Latitude: +d.Latitude,</span></span>
<span id="cb10-558"><a href="#cb10-558" aria-hidden="true" tabindex="-1"></a><span class="in">  Longitude: +d.Longitude</span></span>
<span id="cb10-559"><a href="#cb10-559" aria-hidden="true" tabindex="-1"></a><span class="in">})).then(data =&gt; data.filter(d =&gt; !isNaN(d.Latitude) &amp;&amp; !isNaN(d.Longitude)))</span></span>
<span id="cb10-560"><a href="#cb10-560" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb10-561"><a href="#cb10-561" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-562"><a href="#cb10-562" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-565"><a href="#cb10-565" aria-hidden="true" tabindex="-1"></a><span class="in">```{ojs}</span></span>
<span id="cb10-566"><a href="#cb10-566" aria-hidden="true" tabindex="-1"></a><span class="in">{</span></span>
<span id="cb10-567"><a href="#cb10-567" aria-hidden="true" tabindex="-1"></a><span class="in"> </span></span>
<span id="cb10-568"><a href="#cb10-568" aria-hidden="true" tabindex="-1"></a><span class="in">  const cityCounts = d3.rollups(</span></span>
<span id="cb10-569"><a href="#cb10-569" aria-hidden="true" tabindex="-1"></a><span class="in">    geoData,</span></span>
<span id="cb10-570"><a href="#cb10-570" aria-hidden="true" tabindex="-1"></a><span class="in">    v =&gt; v.length,</span></span>
<span id="cb10-571"><a href="#cb10-571" aria-hidden="true" tabindex="-1"></a><span class="in">    d =&gt; d.City</span></span>
<span id="cb10-572"><a href="#cb10-572" aria-hidden="true" tabindex="-1"></a><span class="in">  ).sort((a, b) =&gt; d3.descending(a[1], b[1])).slice(0, 5);</span></span>
<span id="cb10-573"><a href="#cb10-573" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-574"><a href="#cb10-574" aria-hidden="true" tabindex="-1"></a><span class="in">  const top5Cities = new Set(cityCounts.map(d =&gt; d[0]));</span></span>
<span id="cb10-575"><a href="#cb10-575" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-576"><a href="#cb10-576" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb10-577"><a href="#cb10-577" aria-hidden="true" tabindex="-1"></a><span class="in">  const topCityData = Array.from(top5Cities).map(city =&gt; {</span></span>
<span id="cb10-578"><a href="#cb10-578" aria-hidden="true" tabindex="-1"></a><span class="in">    const rows = geoData.filter(d =&gt; d.City === city);</span></span>
<span id="cb10-579"><a href="#cb10-579" aria-hidden="true" tabindex="-1"></a><span class="in">    const count = rows.length;</span></span>
<span id="cb10-580"><a href="#cb10-580" aria-hidden="true" tabindex="-1"></a><span class="in">    const lat = d3.mean(rows, d =&gt; d.Latitude);</span></span>
<span id="cb10-581"><a href="#cb10-581" aria-hidden="true" tabindex="-1"></a><span class="in">    const lon = d3.mean(rows, d =&gt; d.Longitude);</span></span>
<span id="cb10-582"><a href="#cb10-582" aria-hidden="true" tabindex="-1"></a><span class="in">    return { city, count, lat, lon };</span></span>
<span id="cb10-583"><a href="#cb10-583" aria-hidden="true" tabindex="-1"></a><span class="in">  });</span></span>
<span id="cb10-584"><a href="#cb10-584" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-585"><a href="#cb10-585" aria-hidden="true" tabindex="-1"></a><span class="in">  </span></span>
<span id="cb10-586"><a href="#cb10-586" aria-hidden="true" tabindex="-1"></a><span class="in">  const data = [{</span></span>
<span id="cb10-587"><a href="#cb10-587" aria-hidden="true" tabindex="-1"></a><span class="in">    type: "scattergeo",</span></span>
<span id="cb10-588"><a href="#cb10-588" aria-hidden="true" tabindex="-1"></a><span class="in">    mode: "markers+text",</span></span>
<span id="cb10-589"><a href="#cb10-589" aria-hidden="true" tabindex="-1"></a><span class="in">    text: topCityData.map(d =&gt; `${d.city}: ${d.count} incidents`),</span></span>
<span id="cb10-590"><a href="#cb10-590" aria-hidden="true" tabindex="-1"></a><span class="in">    hovertemplate: "&lt;b&gt;%{text}&lt;/b&gt;&lt;extra&gt;&lt;/extra&gt;",</span></span>
<span id="cb10-591"><a href="#cb10-591" aria-hidden="true" tabindex="-1"></a><span class="in">    lon: topCityData.map(d =&gt; d.lon),</span></span>
<span id="cb10-592"><a href="#cb10-592" aria-hidden="true" tabindex="-1"></a><span class="in">    lat: topCityData.map(d =&gt; d.lat),</span></span>
<span id="cb10-593"><a href="#cb10-593" aria-hidden="true" tabindex="-1"></a><span class="in">    marker: {</span></span>
<span id="cb10-594"><a href="#cb10-594" aria-hidden="true" tabindex="-1"></a><span class="in">      size: topCityData.map(d =&gt; Math.sqrt(d.count) * 3), </span></span>
<span id="cb10-595"><a href="#cb10-595" aria-hidden="true" tabindex="-1"></a><span class="in">      color: "#ef4444",</span></span>
<span id="cb10-596"><a href="#cb10-596" aria-hidden="true" tabindex="-1"></a><span class="in">      opacity: 0.7,</span></span>
<span id="cb10-597"><a href="#cb10-597" aria-hidden="true" tabindex="-1"></a><span class="in">      line: { width: 1, color: "#fff" }</span></span>
<span id="cb10-598"><a href="#cb10-598" aria-hidden="true" tabindex="-1"></a><span class="in">    }</span></span>
<span id="cb10-599"><a href="#cb10-599" aria-hidden="true" tabindex="-1"></a><span class="in">  }];</span></span>
<span id="cb10-600"><a href="#cb10-600" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-601"><a href="#cb10-601" aria-hidden="true" tabindex="-1"></a><span class="in">  const layout = {</span></span>
<span id="cb10-602"><a href="#cb10-602" aria-hidden="true" tabindex="-1"></a><span class="in">    title: {</span></span>
<span id="cb10-603"><a href="#cb10-603" aria-hidden="true" tabindex="-1"></a><span class="in">      text: "Top 5 Deadliest Cities for Aid Workers",</span></span>
<span id="cb10-604"><a href="#cb10-604" aria-hidden="true" tabindex="-1"></a><span class="in">      font: { size: 22 }</span></span>
<span id="cb10-605"><a href="#cb10-605" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb10-606"><a href="#cb10-606" aria-hidden="true" tabindex="-1"></a><span class="in">    geo: {</span></span>
<span id="cb10-607"><a href="#cb10-607" aria-hidden="true" tabindex="-1"></a><span class="in">      showframe: false,</span></span>
<span id="cb10-608"><a href="#cb10-608" aria-hidden="true" tabindex="-1"></a><span class="in">      showcoastlines: true,</span></span>
<span id="cb10-609"><a href="#cb10-609" aria-hidden="true" tabindex="-1"></a><span class="in">      projection: { type: "natural earth" },</span></span>
<span id="cb10-610"><a href="#cb10-610" aria-hidden="true" tabindex="-1"></a><span class="in">      bgcolor: "#f0faff"</span></span>
<span id="cb10-611"><a href="#cb10-611" aria-hidden="true" tabindex="-1"></a><span class="in">    },</span></span>
<span id="cb10-612"><a href="#cb10-612" aria-hidden="true" tabindex="-1"></a><span class="in">    paper_bgcolor: "#f0faff",</span></span>
<span id="cb10-613"><a href="#cb10-613" aria-hidden="true" tabindex="-1"></a><span class="in">    margin: { t: 60, b: 20, l: 10, r: 10 }</span></span>
<span id="cb10-614"><a href="#cb10-614" aria-hidden="true" tabindex="-1"></a><span class="in">  };</span></span>
<span id="cb10-615"><a href="#cb10-615" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-616"><a href="#cb10-616" aria-hidden="true" tabindex="-1"></a><span class="in">  const el = DOM.element("div");</span></span>
<span id="cb10-617"><a href="#cb10-617" aria-hidden="true" tabindex="-1"></a><span class="in">  Plotly.newPlot(el, data, layout, { responsive: true });</span></span>
<span id="cb10-618"><a href="#cb10-618" aria-hidden="true" tabindex="-1"></a><span class="in">  return el;</span></span>
<span id="cb10-619"><a href="#cb10-619" aria-hidden="true" tabindex="-1"></a><span class="in">}</span></span>
<span id="cb10-620"><a href="#cb10-620" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-621"><a href="#cb10-621" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-622"><a href="#cb10-622" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-623"><a href="#cb10-623" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span>
<span id="cb10-624"><a href="#cb10-624" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-625"><a href="#cb10-625" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-626"><a href="#cb10-626" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-627"><a href="#cb10-627" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb10-628"><a href="#cb10-628" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-629"><a href="#cb10-629" aria-hidden="true" tabindex="-1"></a>:::{#cr-map3}</span>
<span id="cb10-630"><a href="#cb10-630" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-631"><a href="#cb10-631" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-632"><a href="#cb10-632" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb10-633"><a href="#cb10-633" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-634"><a href="#cb10-634" aria-hidden="true" tabindex="-1"></a><span class="fu">## Deadliest Cities for Aid Workers</span></span>
<span id="cb10-635"><a href="#cb10-635" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-636"><a href="#cb10-636" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">@cr-map3</span><span class="co">]</span> Some cities have emerged as persistent danger zones for aid workers, where ongoing conflict, instability, and targeted attacks have led to a high concentration of violent incidents. This map highlights the Top 5 Deadliest Cities for aid workers, with the following narrative providing context for each hotspot.</span>
<span id="cb10-637"><a href="#cb10-637" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-638"><a href="#cb10-638" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">@cr-map3</span><span class="co">]</span>{pan-to="48%,-5%" scale-by="2.5"}</span>
<span id="cb10-639"><a href="#cb10-639" aria-hidden="true" tabindex="-1"></a>Port-au-Prince, Haiti, has recorded 32 violent incidents. Entrenched gang activity, political instability, and weak governance have created severe risks for aid delivery, making humanitarian access both critical and perilous.</span>
<span id="cb10-640"><a href="#cb10-640" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-641"><a href="#cb10-641" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">@cr-map3</span><span class="co">]</span>{pan-to="-50%,10%" scale-by="2.5"}</span>
<span id="cb10-642"><a href="#cb10-642" aria-hidden="true" tabindex="-1"></a>Kabul, Afghanistan, with 31 incidents, has long been a high-risk environment for aid workers. Despite changes in government and international presence, the threat of targeted attacks and bombings remains high.</span>
<span id="cb10-643"><a href="#cb10-643" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-644"><a href="#cb10-644" aria-hidden="true" tabindex="-1"></a>Mogadishu, Somalia, is one of the most dangerous cities for aid workers, with 65 incidents reported. Armed groups frequently target humanitarian staff, especially locals, who face extreme risk in their daily operations.</span>
<span id="cb10-645"><a href="#cb10-645" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-646"><a href="#cb10-646" aria-hidden="true" tabindex="-1"></a>In Juba, South Sudan, 49 incidents highlight the hazards of operating amid fragile peace agreements and sporadic outbreaks of violence. Local aid workers are particularly vulnerable to attacks and harassment.</span>
<span id="cb10-647"><a href="#cb10-647" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-648"><a href="#cb10-648" aria-hidden="true" tabindex="-1"></a>Lastly, the large red cluster representing 988 incidents reflects the broader concentration of violence affecting multiple cities and rural areas across the region. This underscores how aid workers face systemic threats beyond the spotlight of any single city.</span>
<span id="cb10-649"><a href="#cb10-649" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-650"><a href="#cb10-650" aria-hidden="true" tabindex="-1"></a><span class="co">[</span><span class="ot">@cr-map3</span><span class="co">]</span> By identifying these deadliest cities for aid workers, we gain a clearer understanding of where the most significant risks lie. This knowledge enables humanitarian organizations to better allocate resources, enhance security protocols, and prioritize support for aid workers in these high-risk areas. With a more focused approach, we can ensure that those who risk their lives in the service of others are provided with the protections, training, and assistance they need to carry out their vital work more safely and effectively.</span>
<span id="cb10-651"><a href="#cb10-651" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-652"><a href="#cb10-652" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-653"><a href="#cb10-653" aria-hidden="true" tabindex="-1"></a>:::</span>
<span id="cb10-654"><a href="#cb10-654" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-655"><a href="#cb10-655" aria-hidden="true" tabindex="-1"></a><span class="fu">## Risk, Responsibility, and the Realities of Aid</span></span>
<span id="cb10-656"><a href="#cb10-656" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-657"><a href="#cb10-657" aria-hidden="true" tabindex="-1"></a>This interactive dashboard has not only provided a means to explore how violence against aid workers has consistently increased between 1997 and 2025, but has also provided a deep dive of the nuance of such atrocities.  </span>
<span id="cb10-658"><a href="#cb10-658" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-659"><a href="#cb10-659" aria-hidden="true" tabindex="-1"></a>First, it was revealed a disturbing rise in global incidents over time, with sharp spikes in recent years that coincide with escalating conflicts and deteriorating security in many humanitarian hotspots. By linking this finding to certain global events, we were able to understand how these events may have increased due to the need for humanitarian reliefs during those times and the particular trends associated with those key events. </span>
<span id="cb10-660"><a href="#cb10-660" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-661"><a href="#cb10-661" aria-hidden="true" tabindex="-1"></a>Next, through this analysis, a deeply unequal reality of the violence that national humanitarian staff face as compared to international aid workers. This insights highlighted the need for better support national aid workers who carry the brunt of national crises. While international workers are often protected by diplomatic status or security resources, their national colleagues who live in these affected communities face daily threats with far less protection.</span>
<span id="cb10-662"><a href="#cb10-662" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-663"><a href="#cb10-663" aria-hidden="true" tabindex="-1"></a>It was was also crucial to understand the means by which thoses incidents are carried out. From shootings and kidnappings to assaults and aerial bombardments, the top 5 means of violence against humanitarians. By identifying those methods of terror, humanitarian organization can provide their volunteers with the proper resources to protect themselves.</span>
<span id="cb10-664"><a href="#cb10-664" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-665"><a href="#cb10-665" aria-hidden="true" tabindex="-1"></a>Finally, identifying the countries who have resulted in the highest numbers of violent incidents against aid workers provided crucial information for humanitarian relief purposes. Although those countries may be the ones to need the highest support, this insight can help prepare humanitarians with the proper resources as they rush to the aid of at risk communities. For example, the aftermath of the 2010 earthquake in Haiti was followed by an increase of violence against aid workers and has been has been identified as one of deadliest countries. Howerver, the dataset presented some data gaps which may be an issue for reliable data analysis. </span>
<span id="cb10-666"><a href="#cb10-666" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-667"><a href="#cb10-667" aria-hidden="true" tabindex="-1"></a>Behind every point on this interactive dashboard is a person: a health worker, a driver, a translator, a water technician which makes those every incident every more important. Understanding these patterns is not just a matter of analysis but also morally imperative. This dashboard is a useful resource as a guide to allocate protection, prioritize mental health and aftercare, demand accountability for perpetrators, and challenge the systems that treat local staff as disposable.</span>
<span id="cb10-668"><a href="#cb10-668" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-669"><a href="#cb10-669" aria-hidden="true" tabindex="-1"></a>As the humanitarian landscape continues to shift and is shaped by politics, climate, and conflict so too must our tools for protecting those who sustain it. The risks are real, the responsibilities are ours, and the time for action is now.</span>
<span id="cb10-670"><a href="#cb10-670" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-671"><a href="#cb10-671" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-672"><a href="#cb10-672" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-673"><a href="#cb10-673" aria-hidden="true" tabindex="-1"></a><span class="ot">[^text]: </span>©Tufte, Edward, *The Visual Display of Quantitative Information*, 2nd ed., 2001, Graphics Press, Cheshire Connecticut, 40. </span>
<span id="cb10-674"><a href="#cb10-674" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-675"><a href="#cb10-675" aria-hidden="true" tabindex="-1"></a><span class="ot">[^map]: </span>Charles Joseph Minard, *Tableaux Graphiques et Cartes Figuratives de M. Minard*, 1845-1869, a portfolio of his work held by the Bibliothèque de l’École Nationale des Ponts et Chaussées, Paris, as reproduced in Edward R. Tufte, *The Visual Display of Quantitative Information* (Cheshire, Connecticut © 1983, 2001), p. 176.</span>
</code><button title="Copy to Clipboard" class="code-copy-button" data-in-quarto-modal=""><i class="bi"></i></button></pre></div>
</div></div></div></div></div>
</div> <!-- /content -->




<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions"><ul><li><a href="https://github.com/CarolineDelva-GU/HumanitarianAnalysis.git/edit/main/index.qmd" class="toc-action"><i class="bi bi-github"></i>Edit this page</a></li><li><a href="https://github.com/CarolineDelva-GU/HumanitarianAnalysis.git/issues/new" class="toc-action"><i class="bi empty"></i>Report an issue</a></li></ul></div></div></div></footer></body></html>